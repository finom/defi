!function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return o(t?t:e)},c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("./app/main.class"),i=r(o);try{window.app=new i["default"]}catch(a){var s="https://github.com/matreshkajs/matreshka.io/issues/new?title=Houston,%20we%20have%20a%20problem&body=userAgent: "+encodeURIComponent(" "+navigator.userAgent+"\nError: "+a.message);!localStorage.ignoreErrors&&confirm("Houston, we have a problem:\n"+a+'\n\nThe main script of the website is thrown an error. Would you like to report the issue?\n\nBy pressing "Cancel" further errors will be ignored and you can continue reading documentation, but some features will not work (syntax highlighting, comments etc).')?location.href=s:(localStorage.ignoreErrors=1,[].slice.call(document.querySelectorAll("nav .submenu-wrapper ul")).forEach(function(e){e.style.marginTop=0}),document.querySelector(".view-switcher").style.color="red",document.querySelector(".view-switcher").innerHTML='Error loading the website <a href="'+s+'" style="padding: 0;">Report the issue</a>',document.querySelector(".loader").classList.add("hide"),document.querySelector("body").setAttribute("data-view","all"),console&&console.error&&console.error(a))}},{"./app/main.class":6}],2:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=e("./globals"),l=r(u),c=e("../matreshka"),f=function(e){function n(e){var t;return o(this,n),(t=i(this,Object.getPrototypeOf(n).call(this,e))).set("commentsShown",!1).events().links(),t}return a(n,e),s(n,[{key:"events",value:function(){var e=this;return this.on({"click::menuItem(.expand)":function(n){e.expanded=!e.expanded,n.preventDefault()},"change:isActive":function(n){for(var t=e.bound("menuItem");t=t.parentNode;){(0,c.balalaika)(".submenu-wrapper").filter(function(e){return e.contains(t)}).map(function(e){return e.previousElementSibling}).map(function(e){return e.querySelector(".hidden-active-child")}).forEach(function(e){e.innerHTML=this.isActive?this.name:""},e);break}},"click::comment":function(n){var t=(document.location.origin+document.location.pathname+"#"+e.id,e.bound("commentsContainer"));(e.commentsShown=!e.commentsShown)&&(t.classList.add("muut"),l["default"].app.muut())},"click::(.share-facebook)":function(n){var t="http://www.facebook.com/dialog/feed?app_id=901572946532005&link="+encodeURIComponent(location.href)+"&name="+e.name+"&description="+e.summary+"&redirect_uri="+encodeURIComponent("http://matreshka.io/popupclose.html")+"&display=popup&picture="+encodeURIComponent("http://matreshka.io/img/mk_logo.png");window.open(t,"Facebook","height=600,width=700")},"click::(.share-twitter)":function(n){var t="https://twitter.com/intent/tweet?text="+encodeURIComponent("#matreshkajs "+e.name+": "+e.summary.substr(0,60)+"...")+"&url="+encodeURIComponent(location.href);window.open(t,"Twitter","height=600,width=700")}}).on("render change:expanded",function(){var e=this.bound("submenu");e&&(this.expanded?(e.style.marginTop=0,e.style.display="block"):e.style.marginTop=-44*this.selectAll(":bound(submenu) li").length+"px")},!0)}},{key:"links",value:function(){return this.linkProps("ieVersion",[l["default"].app,"ieVersion"]).linkProps("newVersions",[l["default"].app,"newVersions"]).linkProps("_previous",[this,"previous",l["default"].app,"unstableVersion",l["default"].app,"version",l["default"].app,"articles",l["default"].app,"importanceLevel"],function(e,n,t,r,o){if(!(e&&e.importance&&"unstable"!=t&&r))return e;do if(e.since!=n&&e.importance<=o)return e;while(e=e.previous)}).linkProps("_next",[this,"next",l["default"].app,"unstableVersion",l["default"].app,"version",l["default"].app,"articles",l["default"].app,"importanceLevel"],function(e,n,t,r,o){if(!(e&&e.importance&&"unstable"!=t&&r))return e;do if(e.since!=n&&e.importance<=o)return e;while(e=e.next)}).linkProps("previousId","_previous",function(e){return e?e.id:""}).linkProps("nextId","_next",function(e){return e?e.id:""}).linkProps("previousHeader","_previous",function(e){return e?e.name:""}).linkProps("nextHeader","_next",function(e){return e?e.name:""})}},{key:"onRender",value:function(){var e=l["default"].app.select("#pagination-template").innerHTML;return this.bindNode("id",":sandbox",c.Matreshka.binders.property("id")),this.id?this.bindNode({menuItem:l["default"].app.select('nav a[href="#'+this.id+'"]'),since:[":sandbox",c.Matreshka.binders.dataset("since")],isActive:[":bound(menuItem)",c.Matreshka.binders.className("active")],expanded:[":bound(menuItem)",c.Matreshka.binders.className("expanded")],newVersions:[":sandbox",{setValue:function(e){this.classList.toggle("new",~e.indexOf(this.getAttribute("data-since")))}}]}).bindOptionalNode({commentsContainer:":sandbox .comments-container",submenu:'nav ul[data-submenu="'+this.id+'"]',comment:":sandbox .comments",commentsShown:[":bound(commentsContainer)",c.Matreshka.binders.visibility()],ieVersion:[":sandbox .comments",c.Matreshka.binders.className("hide")],header:[":sandbox h2",{getValue:function(){return this.innerHTML.replace(/<wbr>/g,"")}}],summary:[":sandbox .summary p",{getValue:function(){return this.textContent}}],importance:[":sandbox",{getValue:function(){return+this.getAttribute("data-importance")}}]}).bindNode("pagination",[this.sandbox.insertBefore((0,c.balalaika)(e)[0],this.sandbox.firstChild),this.sandbox.appendChild((0,c.balalaika)(e)[0])]).bindNode("name",":bound(menuItem)",{getValue:function(){return this.getAttribute("data-name")||this.textContent}}).bindNode({nextId:":bound(pagination) .next-page",previousId:":bound(pagination) .previous-page"},{setValue:function(e){this.href="#"+e}}).bindNode({nextHeader:":bound(pagination) .next-page",previousHeader:":bound(pagination) .previous-page"},c.Matreshka.binders.innerHTML()):void 0}}]),n}(c.Matreshka.Object);t["default"]=f},{"../matreshka":16,"./globals":5}],3:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("./globals"),u=r(s),l=e("../matreshka"),c=e("./article.class"),f=r(c),d=function(e){function n(){o(this,n);var e=i(this,Object.getPrototypeOf(n).call(this));return e.Model=f["default"],e.restore("article:not([data-typedef])"),e.forEach(function(n,t){n.previous=e[t-1],n.next=e[t+1]}),e.bindNode("header","header .inner",l.Matreshka.binders.innerHTML()).bindNode("win",window).linkProps("hashValue",[u["default"].app,"hashValue"]).linkProps("header","active",function(e){return e?e.header||u["default"].app.mainTitle:u["default"].app.mainTitle}).on({"change:hashValue":function(n){for(var t,r=0;r<e.length;r++)if(e[r].id===e.hashValue){t=e[r];break}e.active&&(e.active.isActive=!1),(e.active=t)&&(e.active.isActive=!0)},"change:active":function(n){u["default"].app.htmlTitle=e.active?e.active.name+" - "+u["default"].app.mainTitle:u["default"].app.mainTitle}},!0),e}return a(n,e),n}(l.Matreshka.Array);t["default"]=d},{"../matreshka":16,"./article.class":2,"./globals":5}],4:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("./globals"),u=(r(s),e("../matreshka")),l=function(e){function n(){var e;return o(this,n),(e=i(this,Object.getPrototypeOf(n).call(this))).bindNode("sandbox",'article[id="!examples"]').on("click::(a)",function(e){var n=e.target;~n.href.indexOf("gh-embed")&&(e.preventDefault(),n.classList.contains("initialized")?n.parentNode.lastChild.classList.toggle("hide"):(n.parentNode.appendChild(u.balalaika.create("iframe",{src:n.href,attributes:{width:"100%",height:"500",frameborder:"0"}})),n.classList.add("initialized")))}),e}return a(n,e),n}(u.Matreshka);t["default"]=l},{"../matreshka":16,"./globals":5}],5:[function(e,n,t){"use strict";n.exports={}},{}],6:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=e("./globals"),l=r(u),c=e("../matreshka"),f=e("./articles.class"),d=r(f),h=e("./typedefs.class"),p=r(h),g=e("./typo.class"),b=r(g),y=e("./notifier.class"),m=r(y),v=e("./search.class"),w=r(v),k=e("./performance.class"),x=r(k),_=e("./examples.class"),O=r(_),N=e("../lib/header-hider"),M=(r(N),e("../lib/prettify")),S=(r(M),e("../lib/details-polyfill")),j=(r(S),function(e){function n(){var e;if(o(this,n),l["default"].app=e=i(this,Object.getPrototypeOf(n).call(this)),e.bindings().events().set({ieVersion:document.documentMode,isOldIE:document.documentMode<=9,view:localStorage.view||"all",version:localStorage.version||"stable",unstableVersion:"1.11",newVersions:["1.8","1.9"],hideTypoBadge:localStorage.hideTypoBadge,isMobile:/mobile|android/i.test(navigator.userAgent),importanceLevel:+localStorage.importanceLevel||2}).setClassFor({typo:b["default"],notifier:m["default"],search:w["default"],performance:x["default"],articles:d["default"],typedefs:p["default"],examples:O["default"]}),location.hash&&(location.href=location.href),/#\w.*/.test(location.hash)&&(0,c.balalaika)('[id="!'+location.hash.replace("#","")+'"]').length&&(location.hash="!"+location.hash.replace("#","")),location.hash=location.hash||"!home",~location.hash.indexOf("comments")){for(var t,r,a=location.hash.replace(/#!\/matreshka\/comments\/matreshka-\S{2}(?:%23|:)(.*)::unread/,"$1").toLowerCase(),s=0;s<e.articles.length;s++)if(~e.articles[s].id.toLowerCase().replace(/\./g,"").indexOf(a)){t=e.articles[s],r=t.bound("commentsContainer");break}t&&r&&(location.hash=t.id,r.classList.add("muut"),t.commentsShown=!0,e.muut())}var u=!0,f=!1,h=void 0;try{for(var g,y=(0,c.balalaika)("a")[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var v=g.value,k=v.getAttribute("href");k&&~k.indexOf("//")&&(v.target="_blank")}}catch(_){f=!0,h=_}finally{try{!u&&y["return"]&&y["return"]()}finally{if(f)throw h}}if(e.initDynamicStyles(),e.ieVersion<=10){var N=!0,M=!1,S=void 0;try{for(var j,T=(0,c.balalaika)("pre code")[Symbol.iterator]();!(N=(j=T.next()).done);N=!0){var E=j.value;E.innerHTML=E.innerHTML.replace(/\n/g,"<br>")}}catch(_){M=!0,S=_}finally{try{!N&&T["return"]&&T["return"]()}finally{if(M)throw S}}}prettyPrint();var L=!0,A=!1,C=void 0;try{for(var $,P=e.articles[Symbol.iterator]();!(L=($=P.next()).done);L=!0){var V=$.value;V.id===location.hash&&V.importance>e.importanceLevel}}catch(_){A=!0,C=_}finally{try{!L&&P["return"]&&P["return"]()}finally{if(A)throw C}}return e.loading=!1,"#!home"==location.hash&&setTimeout(function(){var e=document.querySelector(".demo .in");e.focus(),e.selectionStart=e.selectionEnd=e.value.length}),e}return a(n,e),s(n,[{key:"initDynamicStyles",value:function(){var e=document.styleSheets[0];return e.insertRule('\n			body[data-version="stable"] [data-since="'+this.unstableVersion+'"],\n			body[data-importance-level="1"] [data-importance="2"],\n			body[data-importance-level="1"] [data-importance="3"],\n			body[data-importance-level="2"] [data-importance="3"] {\n				display: none;\n			}',e.cssRules.length),e.insertRule('article[data-since="'+this.unstableVersion+"\"]::before {\n				content: '\\26A0   New since "+this.unstableVersion+"';\n				color: #ef5350;\n			}",e.cssRules.length),e.insertRule('nav a[data-since="'+this.unstableVersion+"\"]::after {\n				content: '\\26A0';\n				color: #ef5350;\n			}",e.cssRules.length),this}},{key:"bindings",value:function(){return this.bindNode("demoProp",".demo .in, .demo .out").bindNode({sandbox:"body",win:window,typeBadge:":sandbox .typo-badge",viewSwitcher:"nav .view-switcher",versionSwitcher:"nav .version-switcher",navShown:["body",c.Matreshka.binders.className("nav-shown")],isMobile:[":sandbox",c.Matreshka.binders.className("mobile")],loading:[".loader",c.Matreshka.binders.className("!hide")],navOverlay:[".nav-overlay",c.Matreshka.binders.className("!hide")],hideTypoBadge:[":bound(typeBadge)",c.Matreshka.binders.className("hide")],htmlTitle:["head title",c.Matreshka.binders.innerHTML()],isOldIE:[":bound(viewSwitcher)",c.Matreshka.binders.visibility(!1)],hashValue:[":sandbox .another-language",{setValue:function(e){this.href=this.href.split("#")[0]+"#"+e}}],version:[":sandbox",{setValue:function(e){this.setAttribute("data-version",e)}}],mainTitle:["title",{getValue:function(){return this.innerHTML}}],view:["body",c.Matreshka.binders.dataset("view")],importanceLevel:[":sandbox .doc-importance input",{getValue:function(){return this.checked?3:2},setValue:function(e){this.checked=3===e}}]}).bindNode({importanceLevel:[":sandbox",c.Matreshka.binders.dataset("importanceLevel")],hashValue:[window,{on:"hashchange",getValue:function(){return location.hash.replace("#","")}}]}).bindNode({view:":bound(viewSwitcher)",version:":bound(versionSwitcher)"},{on:"click",getValue:function(){return this.querySelector(".checked").getAttribute("data-value")},setValue:function(e){c.Matreshka.$b(this.children).forEach(function(n){n.classList.toggle("checked",n.getAttribute("data-value")===e)})},initialize:function(){this.addEventListener("mousedown",function(e){e.target!==this&&c.Matreshka.$b(this.children).forEach(function(n){n.classList.toggle("checked",e.target===n)})})}})}},{key:"events",value:function(){var e=this;return this.onDebounce("scroll::win",function(){var e=this;if("all"===this.view){var n,t=window.pageYOffset,r=window.pageXOffset,o=this.articles.filter(function(n){var r=n.sandbox;return(n.since!==e.unstableVersion||"unstable"==e.version)&&r.offsetTop<t+50&&r.offsetWidth>0&&r.offsetHeight>0});o=o[o.length-1],n=o?o.id:"",this.hashValue!=n&&(this.hashValue=n,window.history&&history.pushState?history.pushState(null,null,"#"+n):(location.hash=n,scrollTo(r,t)))}},200).on({"change:view":function(n){if(e.articles){var t,r=window.pageXOffset;localStorage.view=e.view,t="all"===e.view&&e.articles.active?e.articles.active.bound().offsetTop:0,scrollTo(r,t)}},"change:version":function(n){return localStorage.version=e.version},"change:importanceLevel":function(n){return localStorage.importanceLevel=e.importanceLevel},"click::(.show-nav)":function(n){e.navOverlay=!0,e.delay(function(){this.navShown=!0})},"click::navOverlay":function(n){e.once("transitionend::navOverlay",function(n){return e.navOverlay=!1}),e.navShown=!1},"click::typeBadge(.close)":function(n){return localStorage.hideTypoBadge=e.hideTypoBadge=!0},"change:hashValue change:articles":function(n){var t=e.articles.filter(function(n){return n.id===e.hashValue})[0];t&&t.importance>e.importanceLevel&&(e.importanceLevel=t.importance)}})}},{key:"muut",value:function(){"undefined"!=typeof jQuery&&jQuery.fn.muut?jQuery(".muut").muut():document.body.appendChild(c.balalaika.create("script",{src:"//cdn.muut.com/1/moot.min.js"}))}}]),n}(c.Matreshka.Object));t["default"]=j},{"../lib/details-polyfill":13,"../lib/header-hider":14,"../lib/prettify":15,"../matreshka":16,"./articles.class":3,"./examples.class":4,"./globals":5,"./notifier.class":7,"./performance.class":8,"./search.class":9,"./typedefs.class":11,"./typo.class":12}],7:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=e("./globals"),l=(r(u),e("../matreshka")),c=function(e){function n(){var e;return o(this,n),(e=i(this,Object.getPrototypeOf(n).call(this))).set({formURL:"//docs.google.com/forms/d/1hxQBT5pyq5tLLWH0dWFtwUSLocFC3zxqb9eDJa9p_jE/formResponse",typeName:"entry.1972481987",textName:"entry.1777335671",pageName:"entry.339184258"}).bindNode("sandbox","form.notification-form").bindNode({type:":sandbox input.type",text:":sandbox input.text",page:":sandbox input.page"}).bindNode({typeName:":bound(type)",textName:":bound(text)",pageName:":bound(page)"},{on:null,getValue:null,setValue:function(e){this.name=e}}).bindNode("formURL",":sandbox",{setValue:function(e){this.action=e}}),e}return a(n,e),s(n,[{key:"notify",value:function(e,n){this.type=e,this.text=n,this.page=location.href,this.bound("sandbox").submit()}}]),n}(l.Matreshka.Object);t["default"]=c},{"../matreshka":16,"./globals":5}],8:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("./globals"),u=(r(s),e("../matreshka")),l={10:{ng:[430,463,1404,139,204],kk:[600,720,1291,197,302],rt:[996,722,1251,178,302],mk:[1126,1615,2490,340,725]},50:{ng:[58.43,105,195,39.63,17.36],kk:[105,162,217,55.89,48.37],rt:[137,111,147,37.45,33.75],mk:[200,260,570,166,149]},100:{ng:[21.09,40.87,61.53,15.96,4.4],kk:[42.57,71.28,86.31,25.17,23.65],rt:[47.64,43.13,50.62,15.61,11.49],mk:[90.93,119,297,85.02,69.25]},500:{ng:[1.44,2.75,3.93,.95,.43],kk:[4,2.98,5.45,1.8,2.35],rt:[3.34,2.71,3.44,.79,.35],mk:[18.21,23.06,53.75,17.31,11.59]},1e3:{ng:[.37,.78,.95,.28,.2],kk:[.67,.48,.89,.44,.69],rt:[.79,.67,.99,.21,.14],mk:[8.71,11.21,29.07,8.66,5.51]}},c=function(e){function n(){o(this,n);var e=i(this,Object.getPrototypeOf(n).call(this));e.bindNode("sandbox",".perf-graph-wrapper").bindNode({browser:":sandbox .perf-browser",count:":sandbox .perf-count",graph:":sandbox .perf-graph",browserName:[":bound(browser)",{setValue:null,getValue:function(){return this[this.selectedIndex].innerHTML}}]}).bindNode({count:[":sandbox .benchmark-url",{setValue:function(e){this.href={10:"http://jsperf.com/angular-vs-knockout-vs-react-vs-matreshka/20",50:"http://jsperf.com/angular-vs-knockout-vs-react-vs-matreshka/21",100:"http://jsperf.com/angular-vs-knockout-vs-react-vs-matreshka/22",500:"http://jsperf.com/angular-vs-knockout-vs-react-vs-matreshka/23",1e3:"http://jsperf.com/angular-vs-knockout-vs-react-vs-matreshka/24"}[e]}}]}).bindNode({mk:":sandbox .mk",kk:":sandbox .kk",ng:":sandbox .ng",rt:":sandbox .rt"},{setValue:function(e){this.style.height=e+"%"}}).bindNode({slower_kk:":bound(kk) .slower span",slower_ng:":bound(ng) .slower span",slower_rt:":bound(rt) .slower span"},u.Matreshka.binders.innerHTML()).on({"change:browser change:count":function(n){var t=l[e.count],r=[],o={};for(var i in t){var a="ie"===e.browser?(t[i][3]+t[i][4])/2:t[i][e.nodes.browser.selectedIndex];r.push(a),o[i]=a}var s=Math.max.apply(Math,r);for(var u in o){var c=o[u];e[u]=c/s*100,e["slower_"+u]=100-c/s*100|0}}},!0);return e}return a(n,e),n}(u.Matreshka.Object);t["default"]=c},{"../matreshka":16,"./globals":5}],9:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("./globals"),u=r(s),l=e("../matreshka"),c=function(e){function n(e){var t,r;o(this,n);var a=38,s=40,c=13;return(t=r=i(this,Object.getPrototypeOf(n).call(this)),r.Model=l.Matreshka.Object,r.itemRenderer="<li>",t).set(e).bindNode({sandbox:"header",container:":sandbox .search-results-dropdown",search:":sandbox .search",searchMode:[":sandbox",l.Matreshka.binders.className("search-mode")]}).on({"click::(.show-search)":function(e){r.searchMode=!0,r.bound("search").focus()},"click::(.back)":function(e){r.searchMode=!1,r.search=""},"*@render":function(e){e.self.bindNode("header",":sandbox",l.Matreshka.binders.innerHTML()).bindNode("isActive",":sandbox",l.Matreshka.binders.className("active"))},"@click::sandbox":function(e){r.searchMode=!1,r.search="",document.location.hash=r.active.id},"*@mouseover::sandbox":function(e){r.forEach(function(n){n.isActive=n.eq(e.self)})},"keydown::search":function(e){var n;r.length&&(e.which===a||e.which===s?(n=r.indexOf(r.active),e.which===a?n-=1:e.which===s&&(n+=1),n=0>n?r.length+n:n,n%=r.length,r.forEach(function(e,t){e.isActive=t===n}),e.preventDefault()):e.which===c&&(document.location.hash=r.active.id,r.search="",r.searchMode=!1))},"*@change:isActive":function(e){r.active=e.self.isActive?e.self:r.active},"change:search":function(e){var n=r.search;n?(n=n.toLowerCase(),r.recreate(u["default"].app.articles.toNative().filter(function(e){return n.toLowerCase(),~e.name.toLowerCase().indexOf(n)||~e.id.toLowerCase().indexOf(n)}).map(function(e){return{header:e.header,name:e.name,article:e,id:e.id}}).slice(0,5)),r.length&&(r[0].isActive=!0)):r.recreate()}}),r}return a(n,e),n}(l.Matreshka.Array);t["default"]=c},{"../matreshka":16,"./globals":5}],10:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=e("./globals"),l=(r(u),e("../matreshka")),c=function(e){function n(){return o(this,n),i(this,Object.getPrototypeOf(n).call(this))}return a(n,e),s(n,[{key:"onRender",value:function(){this.bindNode("typedef",":sandbox",l.Matreshka.binders.dataset("typedef")).bindNode("isShown",":sandbox",l.Matreshka.binders.className("shown"))}}]),n}(l.Matreshka.Object);t["default"]=c},{"../matreshka":16,"./globals":5}],11:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=e("./globals"),l=r(u),c=e("../matreshka"),f=e("./typedef.class"),d=r(f),h=function(e){function n(){var e,t;return o(this,n),(e=t=i(this,Object.getPrototypeOf(n).call(this)),t.Model=d["default"],e).restore("article[data-typedef]").bindNode("sandbox","body").bindNode("overlay",".typedef-overlay",c.Matreshka.binders.className("!hide")).bindNode("overlayOpaque",":bound(overlay)",{setValue:function(e){this.style.opacity=e?.5:0}}).on("click::([data-type])",function(e){this.forEach(function(n){n.isShown=n.typedef===e.target.getAttribute("data-type")})}).on("@change:isShown",function(e){e.value&&(this.shown&&(this.shown.isShown=!1),this.overlay=!0,this.overlayOpaque=!1,this.delay(function(){this.overlayOpaque=!0}),this.shown=e.self)}).on("click::overlay @click::(.close-modal)",t.close),l["default"].app.on("keydown::sandbox",function(e){27===e.which&&this.close()},t),t}return a(n,e),s(n,[{key:"close",value:function(){this.overlayOpaque=!1,this.once("transitionend::overlay",function(){this.overlay=!1}),this.shown&&(this.shown.isShown=!1),this.shown=null}}]),n}(c.Matreshka.Array);t["default"]=h},{"../matreshka":16,"./globals":5,"./typedef.class":10}],12:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("./globals"),u=r(s),l=e("../matreshka"),c=function(e){function n(){var e;return o(this,n),(e=i(this,Object.getPrototypeOf(n).call(this))).set({formURL:"//docs.google.com/forms/d/1lCplFvSZfwDU_zr4WsK0fSCo5ktBOnox0od_BPx40xk/formResponse",selectionName:"entry.1972481987",commentName:"entry.1777335671",pageName:"entry.339184258"}).bindNode("sandbox","form.typo").bindNode("shown",":sandbox",l.Matreshka.binders.className("shown")).bindNode({selection:":sandbox input.selection",comment:":sandbox textarea.comment",page:":sandbox input.page"}).bindNode({selectionName:":bound(selection)",commentName:":bound(comment)",pageName:":bound(page)"},{on:null,getValue:null,setValue:function(e){this.name=e}}).bindNode("overlay",".typo-overlay",l.Matreshka.binders.className("!hide")).bindNode("overlayOpaque",":bound(overlay)",{setValue:function(e){this.style.opacity=e?.5:0}}).bindNode("formURL",":sandbox",{setValue:function(e){this.action=e}}).bindNode("selection",":sandbox p.selection",l.Matreshka.binders.innerHTML()).on("submit::sandbox",function(e){this.shown=!1}).on("change:shown",function(e){e.value?(this.overlay=!0,this.delay(function(){this.overlayOpaque=!0})):(this.overlayOpaque=!1,this.once("transitionend::overlay",function(){this.overlay=!1}))}).on("click::overlay click::(.cancel) click::(.close-modal)",function(e){this.shown=!1,e.preventDefault()}),u["default"].app.on("keydown::sandbox",function(e){if(13===e.which&&(e.domEvent.ctrlKey||e.domEvent.metaKey)){var n=window.getSelection().toString();n&&(this.comment="",this.selection=n,this.page=location.href,this.shown=!0)}27===e.which&&(this.shown=!1)},e),e}return a(n,e),n}(l.Matreshka.Object);t["default"]=c},{"../matreshka":16,"./globals":5}],13:[function(e,n,t){"use strict";if(!("open"in document.createElement("details"))){var r=document.styleSheets[0];r.insertRule("details > :not(summary) { display: none; }",r.cssRules.length),r.insertRule("details.open > :not(summary) { display: block; }",r.cssRules.length),document.addEventListener("click",function(e){"SUMMARY"==e.target.tagName&&"DETAILS"==e.target.parentNode.tagName&&e.target.parentNode.classList.toggle("open")})}},{}],14:[function(e,n,t){"use strict";!function(e,n,t){var r="header",o="hidden",i=500,a=e.querySelector(r);if(!a)return!0;var s=0,u=0,l=0,c=0,f=0,d=function(e,n){return e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className)},h=function(e,n){e.classList?e.classList.add(n):e.className+=" "+n},p=function(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},g=function(e,n){var t,r;
return function(){var o=this,i=arguments,a=+new Date;t&&t+e>a?(clearTimeout(r),r=setTimeout(function(){t=a,n.apply(o,i)},e)):(t=a,n.apply(o,i))}};n.addEventListener("scroll",g(i,function(){s=e.body.offsetHeight,u=n.innerHeight,l=n.pageYOffset,f=c-l,0>=l?p(a,o):f>0&&d(a,o)?p(a,o):0>f&&(l+u>=s&&d(a,o)?p(a,o):h(a,o)),c=l}))}(document,window,0)},{}],15:[function(e,n,t){"use strict";!function(){var e=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function n(e){function n(e){var n=e.charCodeAt(0);if(92!==n)return n;var t=e.charAt(1);return(n=f[t])?n:t>="0"&&"7">=t?parseInt(e.substring(1),8):"u"===t||"x"===t?parseInt(e.substring(2),16):e.charCodeAt(1)}function t(e){return 32>e?(16>e?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),"\\"===e||"-"===e||"]"===e||"^"===e?"\\"+e:e)}function r(e){var r=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],o="^"===r[0],i=["["];o&&i.push("^");for(var o=o?1:0,a=r.length;a>o;++o){var s=r[o];if(/\\[bdsw]/i.test(s))i.push(s);else{var u,s=n(s);a>o+2&&"-"===r[o+1]?(u=n(r[o+2]),o+=2):u=s,e.push([s,u]),65>u||s>122||(65>u||s>90||e.push([32|Math.max(65,s),32|Math.min(u,90)]),97>u||s>122||e.push([-33&Math.max(97,s),-33&Math.min(u,122)]))}}for(e.sort(function(e,n){return e[0]-n[0]||n[1]-e[1]}),r=[],a=[],o=0;o<e.length;++o)s=e[o],s[0]<=a[1]+1?a[1]=Math.max(a[1],s[1]):r.push(a=s);for(o=0;o<r.length;++o)s=r[o],i.push(t(s[0])),s[1]>s[0]&&(s[1]+1>s[0]&&i.push("-"),i.push(t(s[1])));return i.push("]"),i.join("")}function o(e){for(var n=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),o=n.length,s=[],u=0,l=0;o>u;++u){var c=n[u];"("===c?++l:"\\"===c.charAt(0)&&(c=+c.substring(1))&&(l>=c?s[c]=-1:n[u]=t(c))}for(u=1;u<s.length;++u)-1===s[u]&&(s[u]=++i);for(l=u=0;o>u;++u)c=n[u],"("===c?(++l,s[l]||(n[u]="(?:")):"\\"===c.charAt(0)&&(c=+c.substring(1))&&l>=c&&(n[u]="\\"+s[c]);for(u=0;o>u;++u)"^"===n[u]&&"^"!==n[u+1]&&(n[u]="");if(e.ignoreCase&&a)for(u=0;o>u;++u)c=n[u],e=c.charAt(0),c.length>=2&&"["===e?n[u]=r(c):"\\"!==e&&(n[u]=c.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return n.join("")}for(var i=0,a=!1,s=!1,u=0,l=e.length;l>u;++u){var c=e[u];if(c.ignoreCase)s=!0;else if(/[a-z]/i.test(c.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){a=!0,s=!1;break}}for(var f={b:8,t:9,n:10,v:11,f:12,r:13},d=[],u=0,l=e.length;l>u;++u){if(c=e[u],c.global||c.multiline)throw Error(""+c);d.push("(?:"+o(c)+")")}return RegExp(d.join("|"),s?"gi":"g")}function t(e,n){function t(e){var u=e.nodeType;if(1==u){if(!r.test(e.className)){for(u=e.firstChild;u;u=u.nextSibling)t(u);u=e.nodeName.toLowerCase(),"br"!==u&&"li"!==u||(o[s]="\n",a[s<<1]=i++,a[s++<<1|1]=e)}}else 3!=u&&4!=u||(u=e.nodeValue,u.length&&(u=n?u.replace(/\r\n?/g,"\n"):u.replace(/[\t\n\r ]+/g," "),o[s]=u,a[s<<1]=i,i+=u.length,a[s++<<1|1]=e))}var r=/(?:^|\s)nocode(?:\s|$)/,o=[],i=0,a=[],s=0;return t(e),{a:o.join("").replace(/\n$/,""),d:a}}function r(e,n,t,r){n&&(e={a:n,e:e},t(e),r.push.apply(r,e.g))}function o(e){for(var n=void 0,t=e.firstChild;t;t=t.nextSibling)var r=t.nodeType,n=1===r?n?e:t:3===r&&k.test(t.nodeValue)?e:n;return n===e?void 0:n}function i(t,o){function i(e){for(var n=e.e,t=[n,"pln"],c=0,f=e.a.match(a)||[],d={},h=0,p=f.length;p>h;++h){var g,b=f[h],y=d[b],m=void 0;if("string"==typeof y)g=!1;else{var v=s[b.charAt(0)];if(v)m=b.match(v[1]),y=v[0];else{for(g=0;u>g;++g)if(v=o[g],m=b.match(v[1])){y=v[0];break}m||(y="pln")}!(g=y.length>=5&&"lang-"===y.substring(0,5))||m&&"string"==typeof m[1]||(g=!1,y="src"),g||(d[b]=y)}if(v=c,c+=b.length,g){g=m[1];var w=b.indexOf(g),k=w+g.length;m[2]&&(k=b.length-m[2].length,w=k-g.length),y=y.substring(5),r(n+v,b.substring(0,w),i,t),r(n+v+w,g,l(y,g),t),r(n+v+k,b.substring(k),i,t)}else t.push(n+v,y)}e.g=t}var a,s={};!function(){for(var r=t.concat(o),i=[],u={},l=0,c=r.length;c>l;++l){var f=r[l],d=f[3];if(d)for(var h=d.length;--h>=0;)s[d.charAt(h)]=f;f=f[1],d=""+f,u.hasOwnProperty(d)||(i.push(f),u[d]=e)}i.push(/[\S\s]/),a=n(i)}();var u=o.length;return i}function a(n){var t=[],r=[];n.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,e,"'\""]):n.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,e,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,e,"\"'"]),n.verbatimStrings&&r.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,e]);var o=n.hashComments;if(o&&(n.cStyleComments?(o>1?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,e,"#"]):t.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,e,"#"]),r.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,e])):t.push(["com",/^#[^\n\r]*/,e,"#"])),n.cStyleComments&&(r.push(["com",/^\/\/[^\n\r]*/,e]),r.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,e])),o=n.regexLiterals){var a=(o=o>1?"":"\n\r")?".":"[\\S\\s]";r.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+("/(?=[^/*"+o+"])(?:[^/\\x5B\\x5C"+o+"]|\\x5C"+a+"|\\x5B(?:[^\\x5C\\x5D"+o+"]|\\x5C"+a+")*(?:\\x5D|$))+/")+")")])}return(o=n.types)&&r.push(["typ",o]),o=(""+n.keywords).replace(/^ | $/g,""),o.length&&r.push(["kwd",RegExp("^(?:"+o.replace(/[\s,]+/g,"|")+")\\b"),e]),t.push(["pln",/^\s+/,e," \r\n	 "]),o="^.[^\\s\\w.$@'\"`/\\\\]*",n.regexLiterals&&(o+="(?!s*/)"),r.push(["lit",/^@[$_a-z][\w$@]*/i,e],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,e],["pln",/^[$_a-z][\w$@]*/i,e],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,e,"0123456789"],["pln",/^\\[\S\s]?/,e],["pun",RegExp(o),e]),i(t,r)}function s(e,n,t){function r(e){var n=e.nodeType;if(1!=n||i.test(e.className)){if((3==n||4==n)&&t){var u=e.nodeValue,l=u.match(a);l&&(n=u.substring(0,l.index),e.nodeValue=n,(u=u.substring(l.index+l[0].length))&&e.parentNode.insertBefore(s.createTextNode(u),e.nextSibling),o(e),n||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)o(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)r(e)}function o(e){function n(e,t){var r=t?e.cloneNode(!1):e,o=e.parentNode;if(o){var o=n(o,1),i=e.nextSibling;o.appendChild(r);for(var a=i;a;a=i)i=a.nextSibling,o.appendChild(a)}return r}for(;!e.nextSibling;)if(e=e.parentNode,!e)return;for(var t,e=n(e.nextSibling,0);(t=e.parentNode)&&1===t.nodeType;)e=t;l.push(e)}for(var i=/(?:^|\s)nocode(?:\s|$)/,a=/\r\n?|\n/,s=e.ownerDocument,u=s.createElement("li");e.firstChild;)u.appendChild(e.firstChild);for(var l=[u],c=0;c<l.length;++c)r(l[c]);n===(0|n)&&l[0].setAttribute("value",n);var f=s.createElement("ol");f.className="linenums";for(var n=Math.max(0,n-1|0)||0,c=0,d=l.length;d>c;++c)u=l[c],u.className="L"+(c+n)%10,u.firstChild||u.appendChild(s.createTextNode(" ")),f.appendChild(u);e.appendChild(f)}function u(e,n){for(var t=n.length;--t>=0;){var r=n[t];_.hasOwnProperty(r)?f.console&&console.warn("cannot override language handler %s",r):_[r]=e}}function l(e,n){return e&&_.hasOwnProperty(e)||(e=/^\s*</.test(n)?"default-markup":"default-code"),_[e]}function c(e){var n=e.h;try{var r=t(e.c,e.i),o=r.a;e.a=o,e.d=r.d,e.e=0,l(n,o)(e);var i=/\bMSIE\s(\d+)/.exec(navigator.userAgent),i=i&&+i[1]<=8,n=/\n/g,a=e.a,s=a.length,r=0,u=e.d,c=u.length,o=0,d=e.g,h=d.length,p=0;d[h]=s;var g,b;for(b=g=0;h>b;)d[b]!==d[b+2]?(d[g++]=d[b++],d[g++]=d[b++]):b+=2;for(h=g,b=g=0;h>b;){for(var y=d[b],m=d[b+1],v=b+2;h>=v+2&&d[v+1]===m;)v+=2;d[g++]=y,d[g++]=m,b=v}d.length=g;var w,k=e.c;k&&(w=k.style.display,k.style.display="none");try{for(;c>o;){var x,_=u[o+2]||s,O=d[p+2]||s,v=Math.min(_,O),N=u[o+1];if(1!==N.nodeType&&(x=a.substring(r,v))){i&&(x=x.replace(n,"\r")),N.nodeValue=x;var M=N.ownerDocument,S=M.createElement("span");S.className=d[p+1];var j=N.parentNode;j.replaceChild(S,N),S.appendChild(N),_>r&&(u[o+1]=N=M.createTextNode(a.substring(v,_)),j.insertBefore(N,S.nextSibling))}r=v,r>=_&&(o+=2),r>=O&&(p+=2)}}finally{k&&(k.style.display=w)}}catch(T){f.console&&console.log(T&&T.stack||T)}}var f=window,d=["break,continue,do,else,for,if,return,while"],h=[[d,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],p=[h,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],g=[h,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],b=[g,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],h=[h,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],y=[d,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],m=[d,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[d,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],d=[d,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],w=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,k=/\S/,x=a({keywords:[p,b,h,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",y,m,d],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),_={};u(x,["default-code"]),u(i([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),u(i([["pln",/^\s+/,e," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,e,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'\/>]|\/(?=\s)))/],["pun",/^[\/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),u(i([],[["atv",/^[\S\s]+/]]),["uq.val"]),u(a({keywords:p,hashComments:!0,cStyleComments:!0,types:w}),["c","cc","cpp","cxx","cyc","m"]),u(a({keywords:"null,true,false"}),["json"]),u(a({keywords:b,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:w}),["cs"]),u(a({keywords:g,cStyleComments:!0}),["java"]),u(a({keywords:d,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),u(a({keywords:y,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),u(a({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),u(a({keywords:m,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),u(a({keywords:h,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),u(a({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),u(a({keywords:v,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),u(i([],[["str",/^[\S\s]+/]]),["regex"]);var O=f.PR={createSimpleLexer:i,registerLangHandler:u,sourceDecorator:a,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:f.prettyPrintOne=function(e,n,t){var r=document.createElement("div");return r.innerHTML="<pre>"+e+"</pre>",r=r.firstChild,t&&s(r,t,!0),c({h:n,j:t,c:r,i:1}),r.innerHTML},prettyPrint:f.prettyPrint=function(n,t){function r(){for(var t=f.PR_SHOULD_USE_CONTINUATION?p.now()+250:1/0;b<u.length&&p.now()<t;b++){for(var i=u[b],l=_,d=i;d=d.previousSibling;){var h=d.nodeType,O=(7===h||8===h)&&d.nodeValue;if(O?!/^\??prettify\b/.test(O):3!==h||/\S/.test(d.nodeValue))break;if(O){l={},O.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(e,n,t){l[n]=t});break}}if(d=i.className,(l!==_||m.test(d))&&!v.test(d)){for(h=!1,O=i.parentNode;O;O=O.parentNode)if(x.test(O.tagName)&&O.className&&m.test(O.className)){h=!0;break}if(!h){if(i.className+=" prettyprinted",h=l.lang,!h){var N,h=d.match(y);!h&&(N=o(i))&&k.test(N.tagName)&&(h=N.className.match(y)),h&&(h=h[1])}if(w.test(i.tagName))O=1;else var O=i.currentStyle,M=a.defaultView,O=(O=O?O.whiteSpace:M&&M.getComputedStyle?M.getComputedStyle(i,e).getPropertyValue("white-space"):0)&&"pre"===O.substring(0,3);M=l.linenums,(M="true"===M||+M)||(M=(M=d.match(/\blinenums\b(?::(\d+))?/))?M[1]&&M[1].length?+M[1]:!0:!1),M&&s(i,M,O),g={h:h,c:i,j:M,i:O},c(g)}}}b<u.length?setTimeout(r,250):"function"==typeof n&&n()}for(var i=t||document.body,a=i.ownerDocument||document,i=[i.getElementsByTagName("pre"),i.getElementsByTagName("code"),i.getElementsByTagName("xmp")],u=[],l=0;l<i.length;++l)for(var d=0,h=i[l].length;h>d;++d)u.push(i[l][d]);var i=e,p=Date;p.now||(p={now:function(){return+new Date}});var g,b=0,y=/\blang(?:uage)?-([\w.]+)(?!\S)/,m=/\bprettyprint\b/,v=/\bprettyprinted\b/,w=/pre|xmp/i,k=/^code$/i,x=/^(?:pre|code|xmp)$/i,_={};r()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return O})}()}()},{}],16:[function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){var o,i,a,s,u,l,c,f,d,h,p,g,b,y,m,v,w,k,x,_,O,N,M,S,j,T,E,L,A,C,$,P,V,R,H,I,D,B,K,q,F,U,z,J,G,Q,W,X,Y,Z;o=function(){var e="undefined"!=typeof document?document.documentMode:null;if(e&&9>e)throw Error("Internet Explorer "+e+" isn't supported");return function n(e,t){var o,i=e.constructor!==Object?e.constructor:function(){},a=e["extends"]=e["extends"]||e.extend,s=Object.assign||function(e,n){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;s>a;a++){var u=i[a],l=Object.getOwnPropertyDescriptor(o,u);void 0!==l&&l.enumerable&&(t[u]=o[u])}}return t};return o=Object.create(a?a.prototype:{}),s(o,e),t&&"object"==("undefined"==typeof t?"undefined":r(t))&&s(i,t),o.instanceOf=function(){return this instanceof i},i.prototype=o,this instanceof n?new i:i}}(),i={},a=function(e){function n(){}var t=function(e,n){var t,r;if(e)for(t=1;t<arguments.length;t++)if(n=arguments[t])for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e},o={extend:t,trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},randomString:function(){return((new Date).getTime()-new Date(2013,4,3).getTime()).toString(36)+Math.floor(1679616*Math.random()).toString(36)},toArray:function(e,n){var t,r=[],o=e.length;for(n=n||0,t=n;o>t;t++)r[t-n]=e[t];return r},debounce:function(e,n,t){var r;return"number"!=typeof n&&(t=n,n=0),function(){var o=arguments,i=this;clearTimeout(r),r=setTimeout(function(){e.apply(t||i,o)},n||0)}},each:function(e,n,t){if(e){if(e.isMK&&"function"==typeof e.each)e.each(n,t);else if("length"in e)[].forEach.call(e,n,t);else for(var r in e)e.hasOwnProperty(r)&&n.call(t,e[r],r,e);return e}},deepFind:function(e,n){var t,r="string"==typeof n?n.split("."):n,o=e;for(t=0;t<r.length;++t){if("undefined"==typeof o[r[t]])return;o=o[r[t]]}return o},noop:function(){},orderBy:function(e,n,t){var o,i,a,s,u="asc";if("length"in e&&"object"==("undefined"==typeof e?"undefined":r(e))){for(t instanceof Array||(s=t||u),i=e.length,o=Array(i),a=0;i>a;a++)o[a]=e[a];return n?(n=n instanceof Array?n:[n],o.sort(function(e,r){var o,i,a,u=n.length;if(e&&r)for(o=0;u>o;o++){if(a=n[o],i="desc"!=(s||t[o])?-1:1,e[a]>r[a])return-i;if(e[a]<r[a])return i}return 0})):o}return[]}};return t(n.prototype,{get:function(e){return e.matreshkaData},set:function(e,n){Object.defineProperty(e,"matreshkaData",{value:n,enumerable:!1,writable:!1,configurable:!1})},has:function(e){return"matreshkaData"in e}}),o.PseudoMap=n,t(e,o),o}(i),s=function(e){"mk-"+e.randomString();return"undefined"==typeof WeakMap?new e.PseudoMap:new WeakMap}(a),u=function(e){var n,t=function(n,t,r){var o=n.length,i=0,a=e.toArray(n);t?a.forEach(function(e){var n=new FileReader;n.onloadend=function(t){e.readerResult=n.result,++i==o&&r(a)},n[t](e)}):r(a)},r=function(e){if("undefined"==typeof FileReader)throw Error("FileReader is not supported by this browser");if(e&&(e="readAs"+e[0].toUpperCase()+e.slice(1),!FileReader.prototype[e]))throw Error(e+" is not supported by FileReader");return e};return e.binders=n={innerHTML:function(){return{on:"input",getValue:function(){return this.innerHTML},setValue:function(e){this.innerHTML=e+""}}},innerText:function(){return{on:"input",getValue:function(){return this.textContent},setValue:function(e){this.textContent=e+""}}},className:function(e){function n(e,n){var t=new RegExp("(^|\\s)"+n+"(\\s|$)","g");t.test(e.className)||(e.className=(e.className+" "+n).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function t(e,n){var t=new RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(t,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}function r(e,n){return new RegExp("(\\s|^)"+n+"(\\s|$)").test(e.className)}var o=0===e.indexOf("!");return o&&(e=e.replace("!","")),{on:null,getValue:function(){var n=this,t=n.classList?n.classList.contains(e):r(n,e);return o?!t:!!t},setValue:function(r){var i=this,a=o?!r:!!r;i.classList?i.classList[a?"add":"remove"](e):a?n(i,e):t(i,e)}}},property:function(e){return{on:null,getValue:function(){return this[e]},setValue:function(n){try{this[e]=n}catch(t){}}}},attribute:function(e){return{on:null,getValue:function(){return this.getAttribute(e)},setValue:function(n){this.setAttribute(e,n)}}},dataset:function(e){function n(e){return"data-"+e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}return{on:null,getValue:function(){var t=this;return t.dataset?t.dataset[e]:t.getAttribute(n(e))},setValue:function(t){var r=this;r.dataset?r.dataset[e]=t:r.setAttribute(n(e),t)}}},textarea:function(){return n.input("text")},progress:function(){return n.input()},input:function(e,n){var t;switch(e){case"checkbox":return{on:"click keyup",getValue:function(){return this.checked},setValue:function(e){this.checked=e}};case"radio":return{on:"click keyup",getValue:function(){return this.value},setValue:function(e){this.checked="undefined"!=typeof e&&this.value==e}};case"submit":case"button":case"image":case"reset":return{};case"hidden":t=null;break;case"file":t="change";break;default:t="input"}return{on:t,getValue:function(){return this.value},setValue:function(e){this.value=e}}},output:function(){return{getValue:function(){var e=this;return e.value||e.textContent},setValue:function(e){var n=this;n["form"in n?"value":"textContent"]=null===e?"":e+""}}},select:function(e){var n;return e?{on:"change",getValue:function(){for(var e=0,n=this.options,t=[];n.length>e;e++)n[e].selected&&t.push(n[e].value);return t},setValue:function(e){for(e="string"==typeof e?[e]:e,n=this.options.length-1;n>=0;n--)this.options[n].selected=~e.indexOf(this.options[n].value)}}:{on:"change",getValue:function(){return this.value},setValue:function(e){var t,r=this;if(r.value=e,!e)for(t=r.options,n=t.length-1;n>=0;n--)t[n].value||(t[n].selected=!0)}}},display:function(e){return e="undefined"==typeof e?!0:e,{on:null,getValue:function(){var n=this,t=n.style.display||(window.getComputedStyle?getComputedStyle(n,null).getPropertyValue("display"):n.currentStyle.display),r="none"==t;return e?!r:!!r},setValue:function(n){this.style.display=e?n?"":"none":n?"none":""}}},style:function(e){return{getValue:function(){var n=this;return n.style[e]||getComputedStyle(n,null).getPropertyValue(e)},setValue:function(n){this.style[e]=n}}},file:function(e){return e=r(e),{on:function(n){this.addEventListener("change",function(){var r=this.files;r.length?t(r,e,n):n([])})},getValue:function(e){var n=e.domEvent||[];return this.multiple?n:n[0]||null}}},dropFiles:function(e){return e=r(e),{on:function(n){this.addEventListener("drop",function(r){r.preventDefault();var o=r.dataTransfer.files;o.length?t(o,e,n):n([])}),this.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"})},getValue:function(e){return e.domEvent||[]}}}},n.visibility=n.display,n.html=n.innerHTML,n.text=n.innerText,n.prop=n.property,n.attr=n.attribute,n}(i),l=function(){function e(n,t){return new e.i(n,t)}if("undefined"!=typeof window){var n=/\.(.+)/,t={},o=0,i=[];return e.i=function(n,t){var r,o,i;if(n&&(n.nodeType||n==window?r=[n]:"string"==typeof n?/</.test(n)?r=e.parseHTML(n):t?(t=e(t)[0])&&(r=t.querySelectorAll(n)):r=document.querySelectorAll(n):n instanceof Function?"loading"==document.readyState?document.addEventListener("DOMContentLoaded",n):n():r=n),o=r&&r.length)for(i=0;o>i;i++)this.push(r[i])},e.fn=e.i.fn=e.i.prototype=i,e.extend=function(e){var n,t,r,o=arguments;for(n=1;n<o.length;n++)if(r=o[n])for(t in r)e[t]=r[t];return e},e.extend(i,{is:function(e){var n=this[0];return n?(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,e):!1},on:function(r,i,a){var s,u,l,c,f,d,h,p,g,b,y,m=this;for("function"==typeof i&&(a=i,i=null),i&&(s=function(n){var t,r,o="x"+String(Math.random()).split(".")[1],s=this;s.setAttribute(o,o),t="["+o+'="'+o+'"] ',r=i.split(",").map(function(e){return t+e+","+t+e+" *"}).join(","),e(n.target).is(r)&&a.call(s,n),s.removeAttribute(o)}),r=r.split(/\s/),g=0;g<r.length;g++)for(u=r[g].split(n),l=u[1],u=u[0],b=0;b<m.length;b++){for(c=m[b],f=c.b$=c.b$||++o,d=t[u+f]=t[u+f]||[],p=!1,y=0;y<d.length;y++)if(h=d[y],a==h.handler&&(!i||i==h.selector)){p=!0;break}p||(d.push({delegate:s,handler:a,namespace:l,selector:i}),c.addEventListener(u,s||a,!1))}return m},off:function(e,r,o){var i,a,s,u,l,c,f,d,h=this;for("function"==typeof r&&(o=r,r=null),e=e.split(/\s/),c=0;c<e.length;c++)for(i=e[c].split(n),a=i[1],i=i[0],f=0;f<h.length;f++)if(s=h[f],u=t[i+s.b$])for(d=0;d<u.length;d++)l=u[d],o&&o!=l.handler&&o!=l.delegate||a&&a!=l.namespace||r&&r!=l.selector||(s.removeEventListener(i,l.delegate||l.handler),u.splice(d--,1));else a||r||s.removeEventListener(i,o);return h},add:function(n){var t,r,i,a=e(this),s={};for(n=e(n),i=0;i<a.length;i++)r=a[i],t=r.b$=r.b$||++o,s[t]=1;for(i=0;i<n.length;i++)r=n[i],t=r.b$=r.b$||++o,s[t]||(s[t]=1,a.push(r));return a},not:function(n){var t,r,o=e(this);for(n=e(n),r=0;r<n.length;r++)~(t=o.indexOf(n[r]))&&o.splice(t,1);return o},find:function(n){var t=e();return this.forEach(function(r){t=t.add(e(n,r))}),t}}),e.parseHTML=function(n){var t,r,o,i=document.createElement("div"),a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_:[0,"",""]};for(n=n.replace(/^\s+|\s+$/g,""),a.optgroup=a.option,a.tbody=a.tfoot=a.colgroup=a.caption=a.thead,a.th=a.td,o=/<([\w:]+)/.exec(n),t=o&&a[o[1]]||a._,i.innerHTML=t[1]+n+t[2],r=t[0];r--;)i=i.children[0];return e(i.childNodes)},e.create=function a(e,n){var t,o,i,s;if("object"==("undefined"==typeof e?"undefined":r(e))&&(n=e,e=n.tagName),t=document.createElement(e),n)for(o in n)if(s=n[o],"attributes"==o&&"object"==("undefined"==typeof s?"undefined":r(s)))for(i in s)s.hasOwnProperty(i)&&t.setAttribute(i,s[i]);else{if("tagName"==o)continue;if("children"==o&&s)for(i=0;i<s.length;i++)t.appendChild(a(s[i]));else if("object"==r(t[o])&&null!==t[o]&&"object"==("undefined"==typeof n?"undefined":r(n)))for(i in s)s.hasOwnProperty(i)&&(t[o][i]=s[i]);else t[o]=s}return t},e.one=function(n,t){return e(n,t)[0]||null},e}}(),c=function(e){if("undefined"!=typeof window){var n,t,r="on off is add not find".split(/\s/),o="function"==typeof window.$?window.$:null,i=!0;if(o){for(n=o.fn||o.prototype,t=0;t<r.length;t++)if(!n[r[t]]){i=!1;break}i&&!o.parseHTML&&(o.parseHTML=e.parseHTML)}else i=!1;return i?o:e}}(l),f=function(e,n,t){function r(){return[]}e.$=t||r,e.$b=e.balalaika=e.bQuery=e.bquery=n||r,e.useAs$=function(n){return e.$=this.$=t=n}}(i,l,c),d=function(e,n){var t=e.initMK=function(e){return n.has(e)||n.set(e,{events:{},special:{},id:"mk"+Math.random()}),e};return function(e){return e._initMK?e._initMK():t(e),e}}(i,s),h=function(e,n){e._defineSpecial=function(t,o,i){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t))||!n.has(t))return t;var a=n.get(t),s=a.special[o];return s||(s=a.special[o]={$nodes:e.$(),value:t[o],getter:null,setter:null,mediator:null},i||"sandbox"==o||Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return s.getter?s.getter.call(t):s.value},set:function(n){s.setter?s.setter.call(t,n):e.set(t,o,n,{fromSetter:!0})}})),s}}(i,s),p=function(e,n){var t,o,i;t=e.define=function(e,n,o){if(!e||"object"!=("undefined"==typeof e?"undefined":r(e)))return e;var i;if("object"==("undefined"==typeof n?"undefined":r(n))){for(i in n)t(e,i,n[i]);return e}return Object.defineProperty(e,n,o),e},o=e.defineGetter=function(t,i,a){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t)))return t;n(t);var s,u;if("object"==("undefined"==typeof i?"undefined":r(i))){for(s in i)i.hasOwnProperty(s)&&o(t,s,i[s]);return t}return u=e._defineSpecial(t,i),u.getter=function(){return a.call(t,{value:u.value,key:i,self:t})},t},i=e.defineSetter=function(t,o,a){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t)))return t;n(t);var s;if("object"==("undefined"==typeof o?"undefined":r(o))){for(s in o)o.hasOwnProperty(s)&&i(t,s,o[s]);return t}return e._defineSpecial(t,o).setter=function(e){return a.call(t,e,{value:e,key:o,self:t})},t}}(i,d),g=function(e,n,t,o){e.linkProps=function(i,a,s,u,l){function c(e){var n,t;return e.length>1?(t=e.length-1,n=e.slice(0,t).join(".")+"@_rundependencies:"+e[t]):n="_rundependencies:"+e,n}if(!i||"object"!=("undefined"==typeof i?"undefined":r(i)))return i;t(i);var f,d,h,p,g,b,y,m,v="undefined"==typeof l?"undefined":r(l),w=n.get(i);if(m=function(n){var t=[],c=n._protect;if(!c){c=n._protect=n._protect||{};for(p in l)n[p]=l[p]}if(!(a+w.id in c)){if("object"==r(s[0]))for(p=0;p<s.length;p+=2)for(f=s[p],h="string"==typeof s[p+1]?s[p+1].split(/\s/):s[p+1],g=0;g<h.length;g++)t.push(o.deepFind(f,h[g]));else for(p=0;p<s.length;p++)d=s[p],f=i,t.push(o.deepFind(f,d));c[a+w.id]=1,e._defineSpecial(i,a,l.hideProperty),e.set(i,a,u.apply(i,t),n)}},s="string"==typeof s?s.split(/\s+/):s,"boolean"==v&&(y=l),"object"!=v&&(l={}),"boolean"==v&&(l.setOnInit=y),l.fromDependency=!0,u=u||function(e){return e},m=l.debounce?o.debounce(m):m,"object"==r(s[0]))for(p=0;p<s.length;p+=2)for(f=t(s[p]),h="string"==typeof s[p+1]?s[p+1].split(/\s/):s[p+1],g=0;g<h.length;g++)b=h[g].split("."),e[b.length>1?"on":"_fastAddListener"](f,c(b),m);else for(p=0;p<s.length;p++)d=s[p],f=i,b=d.split("."),e[b.length>1?"on":"_fastAddListener"](f,c(b),m);return l.setOnInit!==!1&&m.call("object"==r(s[0])?s[0]:i,{key:"object"==r(s[0])?s[1]:s[0]}),i}}(i,s,d,a),b=function(e,n){e.mediate=function(t,o,i){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t)))return t;n(t);var a,s,u="undefined"==typeof o?"undefined":r(o);if("object"==u&&!(o instanceof Array)){for(a in o)o.hasOwnProperty(a)&&e.mediate(t,a,o[a]);return t}for(o="string"==u?o.split(/\s/):o,a=0;a<o.length;a++)!function(n){s=e._defineSpecial(t,n),s.mediator=function(e){return i.call(t,e,s.value,n,t)},e.set(t,n,s.mediator(s.value),{fromMediator:!0})}(o[a]);return t},e.setClassFor=function(t,o,i,a){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t)))return t;n(t);var s,u="undefined"==typeof o?"undefined":r(o);if("object"==u&&!(o instanceof Array)){for(s in o)o.hasOwnProperty(s)&&e.setClassFor(t,s,o[s],i);return t}o="string"==u?o.split(/\s/):o,a=a||function(e,n){var t,r,o;if(e.isMKArray)e.recreate(n);else if(e.isMKObject){for(r=e.keys(),o=[],t=0;t<r.length;t++)r[t]in n||o.push(r[t]);e.jset(n).removeDataKeys(o)}else for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};for(s=0;s<o.length;s++)e.mediate(t,o[s],function(e,n,r){var o;return n&&(n.instanceOf?n.instanceOf(i):n instanceof i)?(a.call(t,n,e,r),o=n):o=new i(e,t,r),o});return t}}(i,d),y=function(e,n){var t;e.get=function(e,n){return e&&e[n]},t=e.set=function(o,i,a,s){if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;var u,l,c,f,d,h,p,g,b,y="undefined"==typeof i?"undefined":r(i),m=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)};if("undefined"==y)return o;if("object"==y){for(h in i)i.hasOwnProperty(h)&&t(o,h,i[h],a);return o}if(u=n.get(o),!u||!u.special[i])return o[i]=a,o;if(l=u.special[i],c=u.events,f=l.value,d=!l.mediator||a===f||s&&(s.skipMediator||s.fromMediator)?a:l.mediator(a,f,i,o),g=d!==f,p={originalEvent:s,value:d,previousValue:f,key:i,node:l.$nodes[0]||null,$nodes:l.$nodes,self:o,isChanged:g},s&&"object"==("undefined"==typeof s?"undefined":r(s)))for(h in s)p[h]=p[h]||s[h];return b=(g||p.force)&&!p.silent,b&&(c["beforechange:"+i]&&e._fastTrigger(o,"beforechange:"+i,p),c.beforechange&&e._fastTrigger(o,"beforechange",p)),l.value=d,(g||p.force||p.forceHTML||d!==a&&!m(d))&&(p.silentHTML||c["_runbindings:"+i]&&e._fastTrigger(o,"_runbindings:"+i,p)),b&&(c["change:"+i]&&e._fastTrigger(o,"change:"+i,p),c.change&&e._fastTrigger(o,"change",p)),!g&&!p.force||p.skipLinks||c["_rundependencies:"+i]&&e._fastTrigger(o,"_rundependencies:"+i,p),o},e.remove=function(t,o,i){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t))||"string"!=typeof o)return t;var a,s,u=o.split(/\s+/),l={keys:u},c=n.get(t);if(i&&"object"==("undefined"==typeof i?"undefined":r(i)))for(s in i)l[s]=i[s];for(s=0;s<u.length;s++)o=u[s],a=o in t,a&&(l.key=o,l.value=t[o],delete t[o],c&&(e.unbindNode(t,o),e.off(t,"change:"+o+" beforechange:"+o+" _runbindings:"+o+" _rundependencies:"+o),delete c.special[o],l.silent||(e._fastTrigger(t,"delete",l),e._fastTrigger(t,"delete:"+o,l))));return t}}(i,s),m=function(e,n,t,o){function i(n,t,r,i,a,u,l,c){var f,d,h,p,g,b,y,m,v={self:n,key:r,$nodes:i,node:w},w=i[a],k="undefined"==typeof c.value;if(null===u)f={};else if(h=s(w)){if(u)for(g in u)h[g]=u[g];f=h}else f=u||{};if(f.initialize){p={value:c.value};for(g in v)p[g]=v[g];f.initialize.call(w,p)}if(f.getValue&&(k&&l.assignDefaultValue!==!1||l.assignDefaultValue===!0)){d={fromNode:!0
};for(g in l)d[g]=l[g];m=f.getValue.call(w,v),k="undefined"==typeof m,e.set(n,r,m,d)}f.setValue&&(y=function(e){var n,o=t.special[r].value,i=e&&"string"==typeof e.onChangeValue&&"number"==typeof o?o+"":o;if(!e||e.changedNode!=w||e.onChangeValue!=i){p={value:o};for(n in v)p[n]=v[n];f.setValue.call(w,o,p)}},l.debounce&&(y=o.debounce(y)),e._fastAddListener(n,"_runbindings:"+r,y,null,{node:w}),!k&&y()),f.getValue&&f.on&&(b={node:w,on:f.on,instance:n,key:r,mkHandler:y,handler:function(t){if(!b.removed){var o,i,a=n[r],s={value:a,domEvent:t,originalEvent:t.originalEvent||t,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()},which:t.which,target:t.target};for(i in v)s[i]=v[i];o=f.getValue.call(w,s),o!==a&&e.set(n,r,o,{fromNode:!0,changedNode:w,onChangeValue:o})}}},e.domEvents.add(b))}var a,s;a=e.defaultBinders=[function(n){var t,r=n.tagName,o=e.binders;return"INPUT"==r?t=o.input(n.type):"TEXTAREA"==r?t=o.textarea():"SELECT"==r?t=o.select(n.multiple):"PROGRESS"==r?t=o.progress():"OUTPUT"==r&&(t=o.output()),t}],s=e.lookForBinder=function(e){var n,t,r=a;for(t=0;t<r.length;t++)if(n=r[t].call(e,e))return n},e.bindOptionalNode=function(e,n,t,o,i){return"object"==("undefined"==typeof n?"undefined":r(n))?l(e,n,t,o,!0):l(e,n,t,o,i,!0),e};var u=e.bindSandbox=function(n,r,o){var i,a,s,u=e.$(r);if(t(n),!u.length)throw Error('Binding error: node is missing for "sandbox".'+("string"==typeof r?' The selector is "'+r+'"':""));if(a=e._defineSpecial(n,"sandbox"),a.$nodes=a.$nodes.length?a.$nodes.add(u):u,n.isMK&&(n.$sandbox=u,n.sandbox=u[0],n.$nodes.sandbox=a.$nodes,n.nodes.sandbox=a.$nodes[0]),!o||!o.silent){if(i={key:"sandbox",$nodes:u,node:u[0]||null},o)for(s in o)i[s]=o[s];e._fastTrigger(n,"bind:sandbox",i),e._fastTrigger(n,"bind",i)}return n},l=e.bindNode=function(o,a,s,c,f,d){if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;if("sandbox"==a)return u(o,s,f,d);t(o);var h,p,g,b,y,m,v,w=n.get(o),k="undefined"!=typeof window?window:null;if(a instanceof Array){for(g=0;g<a.length;g++)l(o,a[g][0],a[g][1],a[g][2]||f,s);return o}if("string"==typeof a&&~a.indexOf(" ")&&(p=a.split(/\s+/),p.length>1)){for(g=0;g<p.length;g++)l(o,p[g],s,c,f,d);return o}if("object"==("undefined"==typeof a?"undefined":r(a))){for(g in a)a.hasOwnProperty(g)&&l(o,g,a[g],s,c,f);return o}if(s&&2==s.length&&s!==k&&!s[1].nodeName&&(s[1].setValue||s[1].getValue))return l(o,a,s[0],s[1],c,d);if(h=e._getNodes(o,s),!h.length){if(d)return o;throw Error('Binding error: node is missing for "'+a+'".'+("string"==typeof s?' The selector is "'+s+'"':""))}if((!f||f.deep!==!1)&&~a.indexOf("."))return y=a.split("."),m=function(n){n=n&&n.originalEvent;var t,r=n&&n.value;if(!r)for(r=o,t=0;t<y.length-1;t++)r=r[y[t]];l(r,y[y.length-1],h,c,n,d),n&&n.previousValue&&e.unbindNode(n.previousValue,y[y.length-1],h)},e._delegateListener(o,y.slice(0,y.length-2).join("."),"change:"+y[y.length-2],m),m(),o;for(f=f||{},b=e._defineSpecial(o,a),b.$nodes=b.$nodes.length?b.$nodes.add(h):h,o.isMK&&(o.$nodes[a]=b.$nodes,o.nodes[a]=b.$nodes[0]),g=0;g<h.length;g++)i(o,w,a,h,g,c,f,b);if(!f.silent){v={key:a,$nodes:h,node:h[0]||null};for(g in f)v[g]=f[g];e._fastTrigger(o,"bind:"+a,v),e._fastTrigger(o,"bind",v)}return o}}(i,s,d,a),v=function(e,n,t){var o=e.unbindNode=function(i,a,s,u){if(!i||"object"!=("undefined"==typeof i?"undefined":r(i)))return i;t(i);var l,c,f,d,h,p,g="undefined"==typeof a?"undefined":r(a),b=n.get(i),y=b.special[a];if(a instanceof Array){for(f=0;f<a.length;f++)u=s,o(i,a[f][0],a[f][1]||u,u);return i}if("string"==g){if(c=a.split(/\s/),c.length>1){for(f=0;f<c.length;f++)o(i,c[f],s,u);return i}if(d=a.indexOf("."),~d){h=a.split(".");var m=i;for(f=0;f<h.length-1;f++)m=m[h[f]];return e._undelegateListener(i,h.slice(0,h.length-2),"change:"+h[h.length-2]),o(m,h[h.length-1],s,u),i}}if(null===a){for(a in b.special)b.special.hasOwnProperty(a)&&o(i,a,s,u);return i}if("object"==g){for(f in a)a.hasOwnProperty(f)&&o(i,f,a[f],s);return i}if(!s)return y&&y.$nodes?o(i,a,y.$nodes,u):i;if(2==s.length&&!s[1].nodeName&&(s[1].setValue||s[1].getValue||s[1].on))return o(i,a,s[0],u);if(!y)return i;for(l=e._getNodes(i,s),f=0;f<l.length;f++)e.domEvents.remove({key:a,node:l[f],instance:i}),y.$nodes=y.$nodes.not(l[f]),function(n){e._removeListener(i,"_runbindings:"+a,null,null,{node:n,howToRemove:function(e,n){return e.node==n.node}})}(l[f]);if(i.isMK&&(i.$nodes[a]=y.$nodes,i.nodes[a]=y.$nodes[0]||null,"sandbox"==a&&(i.sandbox=y.$nodes[0]||null,i.$sandbox=y.$nodes)),!u||!u.silent){p={key:a,$nodes:l,node:l[0]||null};for(f in u)p[f]=u[f];e._fastTrigger(i,"unbind:"+a,p),e._fastTrigger(i,"unbind",p)}return i}}(i,s,d),w=function(e,n,t,o){function i(e,n,t){var r,o=n.previousSibling;try{o?o.insertAdjacentHTML("afterend",t):e.insertAdjacentHTML("afterbegin",t)}catch(i){r=document.body,o?(r.appendChild(o),o.insertAdjacentHTML("afterend",t),r.removeChild(o)):(r.appendChild(e),e.insertAdjacentHTML("afterbegin",t),r.removeChild(e))}}e.parserBrackets={left:"{{",right:"}}"};e.parseBindings=function(o,a){function s(n,t,r){var i={};for(m=0;m<t.length;m++)i[t[m]]=new RegExp(h+t[m]+p,"g");e.linkProps(o,n,t,function(){var e,n=r;for(e=0;e<t.length;e++)n=n.replace(i[t[e]],arguments[e]);return n},{hideProperty:!0,setOnInit:!0})}var u,l=e.$,c=e.parserBrackets,f=c.left,d=c.right,h=f.replace(/(\[|\(|\?)/g,"\\$1"),p=d.replace(/(\]|\)|\?)/g,"\\$1"),g=new RegExp(h+"(.+?)"+p,"g"),b=new RegExp("^"+h+"(.+?)"+p+"$","g");if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return l();if(t(o),u=n.get(o),"string"==typeof a){if(!~a.indexOf(f))return l.parseHTML(a.replace(/^\s+|\s+$/g,""));a=l.parseHTML(a.replace(/^\s+|\s+$/g,""))}else if(a)a=l(a);else if(a=u&&u.special&&u.special.sandbox&&u.special.sandbox.$nodes,!a||!a.length)return o;var y,m,v,w,k,x,_,O,N,M,S,j,T,E,L=[],A=0;for(m=0;m<a.length;m++)if(w=a[m],!w.outerHTML||~w.outerHTML.indexOf(f)||~w.outerHTML.indexOf(encodeURI(f))){for(y=w.getElementsByTagName("*"),v=0;v<y.length;v++)L[A++]=y[v];L[A++]=w}if(!L.length)return l();for(v=0;v<L.length;v++)if(w=L[v],"TEXTAREA"!=w.tagName)for(m=0;m<w.childNodes.length;m++)T=w.childNodes[m],3==T.nodeType&&~T.nodeValue.indexOf(f)&&(j=T.nodeValue.replace(g,'<span mk-html="$1"></span>'),i(w,T,j),w.removeChild(T));for(m=0;m<a.length;m++)for(y=a[m].querySelectorAll("[mk-html]"),v=0;v<y.length;v++)L[A++]=y[v];for(m=0;m<L.length;m++)for(w=L[m],k=w.getAttribute("mk-html"),k&&(w.removeAttribute("mk-html"),e.bindNode(o,k,w,{setValue:function(e){this.innerHTML=e}})),x=w.attributes,v=0;v<x.length;v++)_=x[v],O=_.value,N=_.name,E=O.match(g),E&&(M=E.map(function(e){return e.replace(g,"$1")}),1==M.length&&b.test(O)?S=M[0]:(S=e.randomString(),s(S,M,O)),("value"==N&&"checkbox"!=w.type&&"radio"!=w.type||"checked"==N&&("checkbox"==w.type||"radio"==w.type))&&e.lookForBinder(w)?(w.setAttribute(N,""),e.bindNode(o,S,w)):e.bindNode(o,S,w,e.binders.attr(N)));return a}}(i,s,d,a),k=function(e,n,t,o){function i(t,i){var a,s,u,l,c,f,d,h,p,g,b=n.get(t),y=e.$,m=y();if(!t||"object"!=("undefined"==typeof t?"undefined":r(t))||!b)return m;for(i=i.split(","),c=0;c<i.length;c++)if(l=i[c],a=/\s*:bound\(([^(]*)\)\s*([\S\s]*)\s*|\s*:sandbox\s*([\S\s]*)\s*/.exec(l)){if(p=void 0!==a[3]?"sandbox":a[1],h=void 0!==a[3]?a[3]:a[2],s=b.special[p]&&b.special[p].$nodes,!s||!s.length)continue;if(h)if(0===h.indexOf(">"))for(f=0;f<s.length;f++)u=s[f],d="m"+e.randomString(),u.setAttribute(d,d),g=u.querySelectorAll("["+d+'="'+d+'"]'+h),m=m.add(o.toArray(g)),u.removeAttribute(d);else m=m.add(s.find(h));else m=m.add(s)}else m=m.add(l);return m}var a,s,u;a=e.selectAll=function(t,r){var o,a=n.get(t);return a&&"string"==typeof r?/:sandbox|:bound\(([^(]*)\)/.test(r)?i(t,r):(o=a.special,o=o&&o.sandbox&&o.sandbox.$nodes,o&&o.find(r)):e.$()},e.select=function(e,t){var r,o=n.get(e);return o&&"string"==typeof t?/:sandbox|:bound\(([^(]*)\)/.test(t)?i(e,t)[0]||null:(r=o.special,r=r&&r.sandbox&&r.sandbox.$nodes&&r.sandbox.$nodes[0],r&&r.querySelector(t)):null},s=e.boundAll=function(r,i){var a,u,l,c,f=e.$,d=n.get(r);if(!d)return f();if(i&&~i.indexOf("."))return u=i.split("."),i=u.splice(-1)[0],s(o.deepFind(r,u),i);if(t(r),a=d.special,i=i?i:"sandbox",u="string"==typeof i?i.split(/\s+/):i,u.length<=1)return u[0]in a?a[u[0]].$nodes:f();for(l=f(),c=0;c<u.length;c++)l=l.add(a[u[c]].$nodes);return l},e.$bound=function(e,n){return s(e,n)},u=e.bound=function(e,r){var i,a,s,l=n.get(e);if(!l)return null;if(r&&~r.indexOf("."))return a=r.split("."),r=a.splice(-1)[0],u(o.deepFind(e,a),r);if(t(e),i=l.special,r=r?r:"sandbox",a="string"==typeof r?r.split(/\s+/):r,a.length<=1)return a[0]in i?i[a[0]].$nodes[0]||null:null;for(s=0;s<a.length;s++)if(a[s]in i&&i[a[s]].$nodes.length)return i[a[s]].$nodes[0];return null},e._getNodes=function(n,t){return"string"==typeof t&&!/</.test(t)&&/:sandbox|:bound\(([^(]*)\)/.test(t)?i(n,t):e.$(t)}}(i,s,d,a),x=/([^\:\:]+)(::([^\(\)]+)?(\((.*)\))?)?/,_=function(e,n,t,o){var i=function(e,n,t){var r,o=document;if(o.createEvent)r=o.createEvent("Event"),r.initEvent(n,!0,!0),r.mkArgs=t,e.dispatchEvent(r);else{if("undefined"==typeof Event)throw Error("Cannot trigger DOM event");r=new Event(n,{bubbles:!0,cancelable:!0}),r.mkArgs=t,e.dispatchEvent(r)}return r};e.trigger=function(a,s){if(!a||"object"!=("undefined"==typeof a?"undefined":r(a)))return a;var u,l,c,f,d,h,p,g,b,y,m,v=n.get(a),w=v&&v.events;if(s&&w)for(u=t.toArray(arguments,2),s=s.split(/\s/),l=0;l<s.length;l++)if(p=s[l],~p.indexOf("::")){if(g=o.exec(p),b=v.special[g[3]||"sandbox"],b=b&&b.$nodes,y=e.$(),m=g[5])for(c=0;c<b.length;c++)y=y.add(b.find(m));else y=b;for(c=0;c<y.length;c++)i(y[l],g[1],u)}else if(d=w[p])for(c=-1,f=d.length;++c<f;)(h=d[c]).callback.apply(h.ctx,u);return a},e._fastTrigger=function(e,t,r){var o,i,a,s=n.get(e).events[t];if(s)for(o=-1,i=s.length;++o<i;)(a=s[o]).callback.call(a.ctx,r)}}(i,s,a,x),O=function(e,n,t){var o=e.on=function(i,a,s,u,l,c){if(!i||"object"!=("undefined"==typeof i?"undefined":r(i)))return i;n(i);var f,d,h,p,g;if("object"==("undefined"==typeof a?"undefined":r(a))&&!(a instanceof Array)){for(d in a)a.hasOwnProperty(d)&&o(i,d,a[d],s,u);return i}if(!s)throw Error('callback is not a function for event(s) "'+a+'"');for(a=a instanceof Array?a:t.trim(a).replace(/\s+/g," ").split(/\s(?![^(]*\))/g),"boolean"!=typeof u&&"undefined"!=typeof u&&(f=l,l=u,u=f),d=0;d<a.length;d++)h=a[d],g=h.lastIndexOf("@"),~g?(p=h.slice(0,g),p?~p.indexOf("@")&&(p=p.replace(/([^@]*)@/g,function(e,n){return(n||"*")+"."}).replace(/\.$/,".*")||"*"):p="*",h=h.slice(g+1),e._delegateListener(i,p,h,s,l||i,c)):e._addListener(i,h,s,l,c);return u===!0&&s.call(l||i,{triggeredOnInit:!0}),i}}(i,d,a),N=function(e,n,t,o){var i=e.off=function(n,a,s,u){if(!n||"object"!=("undefined"==typeof n?"undefined":r(n)))return n;var l,c,f,d,h=o.get(n);if(!h)return n;if("object"==("undefined"==typeof a?"undefined":r(a))&&!(a instanceof Array)){for(l in a)a.hasOwnProperty(l)&&i(n,l,a[l],s);return n}if(!a&&!s&&!u)return h.events={},n;if(a=t.trim(a).replace(/\s+/g," ").split(/\s(?![^(]*\))/g),"object"!=("undefined"==typeof n?"undefined":r(n)))return n;for(l=0;l<a.length;l++)d=a[l],f=d.lastIndexOf("@"),~f?(c=d.slice(0,f),d=d.slice(f+1).replace(/@/g,"."),e._undelegateListener(n,c,d,s,u)):e._removeListener(n,d,s,u);return n}}(i,d,a,s),M=/_rundependencies:|_runbindings:|change:/,S=function(e,n,t,o,i){var a;e._fastAddListener=function(n,r,i,a,s){var u=t.get(n).events,l=u[r]||(u[r]=[]);return l.push({callback:i,context:a,ctx:a||n,name:r,node:s&&s.node}),o.test(r)&&e._defineSpecial(n,r.replace(o,"")),n},a=e._addListener=function(a,s,u,l,c){if(!a||"object"!=("undefined"==typeof a?"undefined":r(a)))return!1;n(a);var f,d,h,p,g=l||a,b=t.get(a).events,y=b[s]||(b[s]=[]),m=y.length,v={callback:u,context:l,ctx:g,name:s};for(f=0;m>f;f++)if(d=y[f],(d.callback==u||d.callback==u._callback)&&d.context==l)return!1;if(c){h={};for(f in c)h[f]=c[f];for(f in v)h[f]=v[f]}else h=v;return y.push(h),p=i.exec(s),p&&p[2]?e._addDOMListener(a,p[3]||"sandbox",p[1],p[5],u,g,h):o.test(s)&&e._defineSpecial(a,s.replace(o,"")),e._fastTrigger(a,"addevent:"+s,h),e._fastTrigger(a,"addevent",h),!0}}(i,d,s,M,x),j=function(e,n){var t=/([^\:\:]+)(::([^\(\)]+)(\((.*)\))?)?/;e._removeListener=function(o,i,a,s,u){if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;var l,c,f,d,h,p,g,b,y=n.get(o),m=0;if(!y)return o;if(c=y.events[i]||[],f=y.events[i]=[],l=c.length,u=u||{},p=t.exec(i),p&&p[2])e._removeDOMListener(o,p[3],p[1],p[5],a,s);else{for(h=0;l>h;h++)d=c[h],g=d.howToRemove||u.howToRemove,(g?!g(d,u):a&&a!==d.callback&&a._callback!==d.callback||s&&s!==d.context)?f[m++]=d:(b={name:i,callback:d.callback,context:d.context},e._fastTrigger(o,"removeevent:"+i,b),e._fastTrigger(o,"removeevent",b));f.length||delete y.events[i]}return o}}(i,s),T=function(e,n,t,o){var i=e._delegateListener=function(a,s,u,l,c,f){if(!a||"object"!=("undefined"==typeof a?"undefined":r(a)))return a;n(a);var d,h=t.get(a),p=/([^\.]+)\.(.*)/.exec(s),g=p?p[1]:s;s=p?p[2]:"",f=f||{},g?"*"==g?a.isMKArray?(d=function(e){(e&&e.added?e.added:a).forEach(function(e){e&&i(e,s,u,l,c,f)})},d._callback=l,e._addListener(a,"add",d,c,f),d()):a.isMKObject&&(d=function(e){var n=a[e.key];n&&e&&e.key in h.keys&&i(n,s,u,l,c,f)},a.each(function(e){i(e,s,u,l,c,f)}),d._callback=l,e._addListener(a,"change",d,c,f)):(d=function(n){if(!n||!n._silent){var d,h,p,b=a[g],y=!0;if(f.path=s,f.previousValue=n&&n.previousValue||f.previousValue&&f.previousValue[g],n&&n.previousValue&&t.has(n.previousValue)&&e._undelegateListener(n.previousValue,s,u,l,c,f),"object"==("undefined"==typeof b?"undefined":r(b))&&b&&i(b,s,u,l,c,f),o.test(u)&&(d=u.replace(o,""),!s&&f.previousValue&&f.previousValue[d]!==b[d])){if(p=t.get(f.previousValue).events[u])for(h=0;h<p.length;h++)p[h].path===s&&(y=!1);y&&e.set(b,d,b[d],{force:!0,previousValue:f.previousValue[d],previousObject:f.previousValue,_silent:!0})}}},d._callback=l,e._addListener(a,"change:"+g,d,c,f),d()):e._addListener(a,u,l,c,f)}}(i,d,s,M),E=function(e,n){var t=e._undelegateListener=function(o,i,a,s,u,l){if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;var c,f,d=/([^\.]+)\.(.*)/.exec(i),h=d?d[1]:i,p=i,g=n.get(o);if(i=d?d[2]:"",h)if("*"==h){if(o.isMKArray){if(s)t(o,i,"add",s,u,l);else for(c=g.events.add||[],f=0;f<c.length;f++)c[f].path==p&&t(o,i,"add",c[f].callback);o.forEach(function(e){e&&t(e,i,a,s,u)})}else if(o.isMKObject){if(s)t(o,i,"change",s,u);else for(c=g.events.change||[],f=0;f<c.length;f++)c[f].path==p&&t(o,i,"change",c[f].callback);o.each(function(e){e&&t(e,i,a,s,u)})}}else{if(s)e._removeListener(o,"change:"+h,s,u,l);else for(c=g.events["change:"+h]||[],f=0;f<c.length;f++)c[f].path==p&&e._removeListener(o,"change:"+h,c[f].callback);"object"==r(o[h])&&t(o[h],i,a,s,u,l)}else e._removeListener(o,a,s,u,l)}}(i,s),L=function(e,n){var t={};e.domEvents={add:function(r){var o=e.$,i=n.get(r.instance);r.node&&("function"==typeof r.on?r.on.call(r.node,r.handler):o(r.node).on(r.on.split(/\s+/).join(".mk ")+".mk",r.handler)),(t[i.id]=t[i.id]||[]).push(r)},remove:function(r){var o,i,a=n.get(r.instance),s=t[a.id],u=e.$;if(s)for(i=0;i<s.length;i++)o=s[i],o.node===r.node&&(o.mkHandler&&e._removeListener(r.instance,"_runbindings:"+r.key,o.mkHandler),"string"==typeof o.on&&u(r.node).off(o.on+".mk",o.handler),o.removed=!0,t[a.id].splice(i--,1))}}}(i,s),A=function(e,n,t){e._addDOMListener=function(o,i,a,s,u,l,c){if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;n(o),s=s||null,c=c||{};var f=t.get(o),d=function(n){var t=this,r=e.$,a=r(t),s=n.originalEvent?n.originalEvent.mkArgs:n.mkArgs,c={self:o,node:t,$nodes:a,key:i,domEvent:n,originalEvent:n.originalEvent||n,preventDefault:function(){n.preventDefault()},stopPropagation:function(){n.stopPropagation()},which:n.which,target:n.target};u.apply(l,s?s:[c])},h=a+"."+f.id+i,p=function(e){e&&e.$nodes&&e.$nodes.on(h,s,d)},g=function(e){e&&e.$nodes&&e.$nodes.off(h,s,d)};return d._callback=u,e._defineSpecial(o,i),p._callback=g._callback=u,e._addListener(o,"bind:"+i,p,l,c)&&e._addListener(o,"unbind:"+i,g,l,c)&&p({$nodes:f.special[i]&&f.special[i].$nodes}),o}}(i,d,s),C=function(e,n){e._removeDOMListener=function(t,o,i,a,s,u,l){if(!t||"object"!=("undefined"==typeof t?"undefined":r(t)))return t;var c=n.get(t);return c?(a=a||null,l=l||{},o&&c.special[o]&&(c.special[o].$nodes.off(i+"."+c.id+o,a,s),e._removeListener(t,"bind:"+o,s,u,l),e._removeListener(t,"unbind:"+o,s,u,l)),t):t}}(i,s),$=function(e,n){var t=e.once=function(o,i,a,s,u){var l;if(!o||"object"!=("undefined"==typeof o?"undefined":r(o)))return o;if("object"==("undefined"==typeof i?"undefined":r(i))){for(l in i)i.hasOwnProperty(l)&&t(o,l,i[l],a,s);return o}if(!a)throw Error('callback is not function for event "'+i+'"');for(n(o),i=i.split(/\s+/),l=0;l<i.length;l++)!function(n){var t=function(e){var n,t=!1;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}(a);t._callback=a,e.on(o,n,t,s)}(i[l]);return o}}(i,d),P=function(e,n,t){var o=e.onDebounce=function(n,i,a,s,u,l,c){if(!n||"object"!=("undefined"==typeof n?"undefined":r(n)))return n;var f,d;if("object"==("undefined"==typeof i?"undefined":r(i))){for(d in i)i.hasOwnProperty(d)&&o(n,d,i[d],a,s,u,l);return n}return"number"!=typeof s&&(c=l,l=u,u=s,s=0),f=t.debounce(a,s),f._callback=a,e.on(n,i,f,u,l,c)}}(i,d,a),V=function(e,n){return e.map=n,e}(i,s),R=function(e,n){return{isMK:!0,on:function(n,t,r,o,i){return e.on(this,n,t,r,o,i)},onDebounce:function(n,t,r,o,i,a){return e.onDebounce(this,n,t,r,o,i,a)},once:function(n,t,r){return e.once(this,n,t,r)},off:function(n,t,r){return e.off(this,n,t,r)},trigger:function(){var n=e.toArray(arguments);return n.unshift(this),e.trigger.apply(e,n)},bindNode:function(n,t,r,o,i){return e.bindNode(this,n,t,r,o,i)},bindOptionalNode:function(n,t,r,o){return e.bindOptionalNode(this,n,t,r,o)},bindSandbox:function(n,t){return e.bindSandbox(this,n,t)},unbindNode:function(n,t,r){return e.unbindNode(this,n,t,r)},boundAll:function(n){return e.boundAll(this,n)},$bound:function(n){return e.boundAll(this,n)},bound:function(n){return e.bound(this,n)},selectAll:function(n){return e.selectAll(this,n)},$:function(n){return e.selectAll(this,n)},select:function(n){return e.select(this,n)},defineGetter:function(n,t){return e.defineGetter(this,n,t)},defineSetter:function(n,t){return e.defineSetter(this,n,t)},mediate:function(n,t){return e.mediate(this,n,t)},setClassFor:function(n,t,r){return e.setClassFor(this,n,t,r)},linkProps:function(n,t,r,o){return e.linkProps(this,n,t,r,o)},get:function(e){return this[e]},set:function(n,t,r){return e.set(this,n,t,r)},remove:function(n,t){return e.remove(this,n,t)},define:function(n,t){return e.define(this,n,t)},delay:function(e,n,t){var o=this;return"object"==("undefined"==typeof n?"undefined":r(n))&&(t=n,n=0),setTimeout(function(){e.call(t||o)},n||0),o},parseBindings:function(n){return e.parseBindings(this,n)},_initMK:function(){var t=this;return n.has(t)?t:(e.initMK(t),t.nodes={},t.$nodes={},t.sandbox=null,t.$sandbox=e.$(),t)},toString:function(){return"[object Matreshka]"},constructor:function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");return this._initMK()}}}(V,s),H=function(e){return{version:"dev",Class:e}}(o),I=function(e,n,t,o){if(!e)throw Error("Class function is missing");o.to=function(e){var n,t;if("object"==("undefined"==typeof e?"undefined":r(e)))if("length"in e){for(n=[],t=0;t<e.length;t++)n[t]=i.to(e[t]);n=(new i.Array).recreate(n)}else{n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=i.to(e[t]));n=new i.Object(n)}else n=e;return n};var i=e(t,o);return i.setProto=function(e){var n="__proto__",t=i.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(i.prototype,e):(n in i.prototype||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(Object.prototype,n)),i.prototype[n]=e),i},n.extend(i.Matreshka=i.prototype.Matreshka=i,n)}(o,V,R,H),D=function(e,n){return{keys:function t(){var n,r=this._initMK(),t=e.get(r).keys,o=[];for(n in t)t.hasOwnProperty(n)&&o.push(n);return o},toObject:function(){var n,t=this._initMK(),r={},o=e.get(t).keys;for(n in o)o.hasOwnProperty(n)&&(r[n]=t[n]);return r},toNative:function(){return this.toObject()},toJSON:function(){var n,t=this._initMK(),r={},o=e.get(t).keys;for(n in o)o.hasOwnProperty(n)&&(r[n]=t[n]&&t[n].toJSON?t[n].toJSON():t[n]);return r},keyOf:function(n){var t,r=this._initMK(),o=e.get(r).keys;for(t in o)if(o.hasOwnProperty(t))if(n&&n.isMK){if(n.eq(r[t]))return t}else if(n===r[t])return t;return null},jset:function(t,o,i){var a,s=this._initMK(),u="undefined"==typeof t?"undefined":r(t),l=e.get(s);if("undefined"==u)return s;if(t&&"object"==u){t=t.toJSON?t.toJSON():t;for(a in t)l.keys[a]=1,n._defineSpecial(s,a),s.set(a,t[a],o);return s}return l.keys[t]=1,n._defineSpecial(s,t),s.set(t,o,i)},addDataKeys:function(t){var r,o=this._initMK(),i=e.get(o),a=arguments;if(!a.length||!t)return o;for(t=a.length>1?a:t instanceof Array?t:n.trim(t).split(/\s+/),r=0;r<t.length;r++)i.keys[t[r]]||(i.keys[t[r]]=1,n._defineSpecial(o,t[r]),n._fastTrigger(o,"modify",{key:t[r],value:o[t[r]]}));return o},removeDataKeys:function(t){var r,o,i=this._initMK(),a=e.get(i),s=arguments;if(!s.length||!t)return i;for(t=s.length>1?s:t instanceof Array?t:n.trim(t).split(/\s+/),r=0;r<t.length;r++)a.keys[t[r]]&&(delete a.keys[t[r]],o={key:t[r],value:i[t[r]]},n._fastTrigger(i,"remove",o),n._fastTrigger(i,"modify",o));return i},each:function(n,t){var r,o=this._initMK(),i=e.get(o);for(r in i.keys)i.keys.hasOwnProperty(r)&&n.call(t,o[r],r,o);return o}}}(s,I),B=function(){var e=this,n=e.keys(),t=0;return{next:function(){return t>n.length-1?{done:!0}:{done:!1,value:e[n[t++]]}}}},K="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",q=function(e,n,t,r,o){if(!e)throw new Error("Matreshka is missing");var i={"extends":e,isMKObject:!0,renderer:null,constructor:function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return this.jset(e)},_initMK:function(){var n,t,r=this;return o.has(r)?r:(e.prototype._initMK.call(r),n=o.get(r),n.keys={},e._fastAddListener(r,"addevent:modify",function(o){t||(e._fastAddListener(r,"change",function(t){t&&t.key in n.keys&&!t.silent&&e._fastTrigger(r,"modify",t)}),e._fastAddListener(r,"delete",function(t){t&&t.key in n.keys&&(delete n.keys[t.key],t.silent||(e._fastTrigger(r,"remove",t),e._fastTrigger(r,"modify",t)))}),t=!0)}),r)},hasOwnProperty:function(e){return o.get(this._initMK()).keys.hasOwnProperty(e)}};return e.extend(i,n),i[r]=t,e.Object=e.Class(i)}(I,D,B,K,s),F=function(e,n,t){var o=function(n,r,o){var i,a,s,u=e.get(n),l=e.get(r),c=u.id,f=t.$,d=l.arraysNodes=l.arraysNodes||{},h=d[c],p=n.itemRenderer,g=r.renderer,b=g||p,y=b===g,m=y?r:n,v=l.rendererNode,w=l.rendererHasBindings,k=u.itemRendererNode,x=u.itemRendererHasBindings,_=n.useBindingsParser!==!1,O=!0,N=!1;if(b){if(o.moveSandbox)return(h=t.bound(r,["sandbox"]))&&(d[c]=h),h;if(h){if(!o.forceRerender)return h;for(a=t.boundAll(r,["sandbox"]),s=0;s<a.length;s++)if(h==a[s]){t.unbindNode(r,"sandbox",h);break}h=d[c]=null}if(o.forceRerender||"function"==typeof b||(v&&(h=w&&_?t.parseBindings(r,v.cloneNode(!0))[0]:v.cloneNode(!0)),k&&(h=x&&_?t.parseBindings(r,k.cloneNode(!0))[0]:k.cloneNode(!0))),!h){if("function"==typeof b&&(O=!1,b=b.call(m,r)),"string"==typeof b){if(!/</.test(b)){if(b=t._getNodes(m,b)[0],!b)throw Error("renderer node is missing");b=b.innerHTML}if(/{{/.test(b)&&(N=!0),b=f.parseHTML(t.trim(b)),b.length>1){for(i=document.createElement("span"),s=0;s<b.length;s++)i.appendChild(b[s]);b=i}else b=b[0]}O?y?(l.rendererNode=b,l.rendererHasBindings=N):(u.itemRendererNode=b,u.itemRendererHasBindings=N):y?(l.rendererNode=null,l.rendererHasBindings=!1):(u.itemRendererNode=null,u.itemRendererHasBindings=!1),h=N&&_?t.parseBindings(r,b.cloneNode(!0))[0]:b.cloneNode(!0)}return d[c]=h}},i=function(i,a,s){var u,l,c;if(a&&"object"==("undefined"==typeof a?"undefined":r(a))&&i.renderIfPossible&&!s.dontRender&&(n(a),c=e.get(a),l=o(i,a,s)))return a.bindRenderedAsSandbox!==!1&&t.bindSandbox(a,l),s.silent||(u={node:l,$nodes:t.$(l),self:a,parentArray:i},a.onRender&&a.onRender(u),i.onItemRender&&i.onItemRender(a,u),t._fastTrigger(a,"render",u),c.events.afterrender&&setTimeout(function(){t._fastTrigger(a,"afterrender",u)},0)),l};return function(n,t){var r,o,a,s,u,l=e.get(n),c=l.id,f=n.length,d=t.added,h=t.removed,p=d&&d.length,g=h&&h.length,b=l.special.container||l.special.sandbox;if(b=b&&b.$nodes,b=b&&b[0],!b)return n;switch(t.method){case"push":for(a=f-p;f>a;a++)(r=i(n,n[a],t))&&b.appendChild(r);break;case"unshift":for(a=p-1;a+1;a--)(r=i(n,n[a],t))&&(b.firstChild?b.insertBefore(r,b.firstChild):b.appendChild(r));break;case"pull":case"pop":case"shift":for(a=0;g>a;a++)s=h[a],u=e.get(s),r=u.arraysNodes&&u.arraysNodes[c],r&&b.removeChild(r);break;case"sort":case"reverse":for(a=0;f>a;a++)s=n[a],u=e.get(s),(r=u&&u.arraysNodes[c])&&b.appendChild(r);break;case"rerender":if(t.forceRerender)for(a=0;f>a;a++)s=n[a],u=e.get(s),r=u&&u.arraysNodes&&u.arraysNodes[c],r&&b.removeChild(r);for(a=0;f>a;a++)(r=i(n,n[a],t))&&b.appendChild(r);break;case"recreate":for(a=0;g>a;a++)s=h[a],u=e.get(s),r=u&&u.arraysNodes&&u.arraysNodes[c],r&&b.removeChild(r);for(a=0;f>a;a++)(r=i(n,n[a],t))&&b.appendChild(r);break;case"splice":for(o=n[t.args[0]<0?f+t.args[0]-p+g-1:t.args[0]-1],o=e.get(o),o=o&&o.arraysNodes,o=o&&o[c],o=o&&o.nextSibling,o=o||b.firstChild,a=0;p>a;a++)(r=i(n,d[a],t))&&b.insertBefore(r,o);for(a=0;g>a;a++)s=h[a],u=e.get(s),r=u&&u.arraysNodes&&u.arraysNodes[c],r&&b.removeChild(r)}return n}}(s,d,I),U=function(e,n,t){return function(r,o,i){var a,s=o.added,u=o.removed,l=n.get(r).events,c=o.method,f=s.length||u.length||"sort"==c||"reverse"==c;if(!o.silent){if(i&&l[i]&&e._fastTrigger(r,i,o),s.length&&(l.add&&e._fastTrigger(r,"add",o),l.addone))for(a=0;a<s.length;a++)e._fastTrigger(r,"addone",{self:r,added:s[a]});if(u.length&&(l.remove&&e._fastTrigger(r,"remove",o),l.removeone))for(a=0;a<u.length;a++)e._fastTrigger(r,"removeone",{self:r,removed:u[a]});f&&l.modify&&e._fastTrigger(r,"modify",o)}f&&!o.dontRender&&t(r,o)}}(I,s,F),z=function(e,n){n=n||[];var t,r=e.length-n.length;for(t=0;t<n.length;t++)e[t]=n[t];for(t=0;r>t;t++)e.remove(t+n.length,{silent:!0});return e.length=n.length,e},J=function(e,n,t,r){function o(n,r){switch(n){case"forEach":return function(e,t){var r=this;return a[n].call(r,e,t),r};case"map":case"filter":case"slice":return function(t,r){var o=this;return e.Array.from(a[n].call(o,t,r))};case"every":case"some":return function(e,t){var r=this;return a[n].call(r,e,t)};case"join":return function(e){var t=this;return a[n].call(t,e||",")};case"indexOf":case"lastIndexOf":return function(e){var t=this;return a[n].call(t,e)};case"reduce":case"reduceRight":return function(){var e=this;return a[n].apply(e,arguments)};case"sort":case"reverse":return function(e,o){if(this.length<=1)return c;var i,s,u,l,c=this._initMK();i=r?("sort"==n&&o?o:e)||{}:{},s=a[n].call(c,e),l={method:n,self:c,added:[],removed:[]};for(u in i)l[u]=i[u];return t(c,l,n),c};case"pop":case"shift":return function(e){if(this.length){var o,i,s,u,l,c,f=this._initMK();o=r?e||{}:{},i=a[n].call(f),c={method:n,self:f,added:s=[],removed:u=[i]};for(l in o)c[l]=o[l];return t(f,c,n),i}};case"push":case"unshift":return function(){var e,o,i,a=this._initMK(),s=arguments,u=new Array(s.length),l=a.length,c=u.length;for(o=0;c>o;o++)u[o]=s[o];if(e=r?u[c-1]||{}:{},r&&(u.pop(),c--),!c)return l;if(!e.skipMediator&&"function"==typeof a._itemMediator)for(o=0;c>o;o++)u[o]=a._itemMediator.call(a,u[o],"push"==n?o+l:o);if("push"==n)for(o=0;c>o;o++)a[l+o]=u[o];else if("unshift"==n){for(o=l-1;o>=0;o--)a[c+o]=a[o];for(o=0;c>o;o++)a[o]=u[o]}a.length=l+=c,i={method:n,self:a,added:u,removed:[]};for(o in e)i[o]=e[o];return t(a,i,n),l};case"splice":return function(){var o,i,s,u,l,c,f=this._initMK(),d=arguments,h=new Array(d.length),p=f.length,g=h.length,b=[];for(l=0;g>l;l++)h[l]=d[l];if(o=h[0],i=r?h[g-1]||{}:{},o=0>o?p+o:o,r&&(h.pop(),g--),!i.skipMediator&&"function"==typeof f._itemMediator)for(l=2;g>l;l++)h[l]=f._itemMediator.call(f,h[l],o+l-2);for(l=2;g>l;l++)l>=2&&(b[l-2]=h[l]);if(s=a[n].apply(f,h),u=s,b.length||u.length){c={args:h,method:n,self:f,added:b,removed:u};for(l in i)c[l]=i[l];t(f,c,n)}return e.Array.from(s)}}}var i={},a=Array.prototype;n.toArray;return"push pop unshift shift sort reverse splice map filter slice every some reduce reduceRight forEach join indexOf lastIndexOf".split(" ").forEach(function(e){i[e]=o(e)}),"push pop unshift shift sort reverse splice".split(" ").forEach(function(e){i[e+"_"]=o(e,!0)}),i.each=i.forEach,i.concat=function(){var n,t,r,o=arguments,i=this.toArray();for(t=0;t<o.length;t++)if(n=o[t],n instanceof Array||n instanceof e.Array||n&&n.instanceOf&&n.instanceOf(e.Array))for(r=0;r<n.length;r++)i.push(n[r]);return e.Array.from(i)},i.toString=function(){return this.toArray().join(",")},i}(I,a,U,z),G=function(e){return{of:function(){var n,t=new e.Array,r=arguments;for(t.length=r.length,n=0;n<r.length;n++)t[n]=r[n];return t},from:function(n,t,r){var o,i=new e.Array;for(i.length=n.length,o=0;o<n.length;o++)i[o]=t?t.call(r,n[o],o,n):n[o];return i}}}(I),Q=function(e,n,t,o,i,a){return{mediateItem:function(e){var n,t=this,r=t.length;for(t._itemMediator=e,n=0;r>n;n++)t[n]=e.call(t,t[n],n);return t},recreate:function(n,t){function r(e,n){var t;if(e.isMKArray)e.recreate(n);else if(e.isMKObject)e.jset(n);else for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}n=n||[];var i,a,s,u,l,c,f,d,h=this._initMK(),p=n.length,g=h.length,b=g-p,y=h.toArray(),m=h.trackBy;if(t=t||{},m)if(l={},"$index"==m)for(a=0;p>a;a++)n[a]=h[a]?r(h[a],n[a]):n[a];else{for(a=0;a<h.length;a++)l[h[a][m]]=h[a];for(a=0;p>a;a++)n[a][m]in l&&(n[a]=r(l[n[a][m]],n[a]))}if(h._itemMediator&&!t.skipMediator){for(i=[],a=0;p>a;a++)i[a]=h._itemMediator.call(h,n[a],a);n=i}for(a=0;p>a;a++)h[a]=n[a];for(a=0;b>a;a++)delete h[a+p],delete e.get(h).special[a+p];if(h.length=p,t.silent&&t.dontRender)return h;if(d=h.toArray(),d.length)if(y.length)for(f=[],s=0,a=0;a<y.length;a++)~d.indexOf(y[a])||(f[s++]=y[a]);else f=[];else f=y;if(y.length)if(d.length)for(c=[],s=0,a=0;a<d.length;a++)~y.indexOf(d[a])||(c[s++]=d[a]);else c=[];else c=d;u={added:c,removed:f,was:y,now:d,method:"recreate",self:h};for(a in t)u[a]=t[a];return o(h,u,"recreate"),h},toArray:function(){var e,n=this,t=[],r=n.length;for(t=[],e=0;r>e;e++)t[e]=n[e];return t},toNative:function(){return this.toArray()},rerender:function(e){var n,o={method:"rerender"};if(e&&"object"==("undefined"==typeof e?"undefined":r(e)))for(n in e)o[n]=e[n];return t(this,o)},toJSON:function(){var e,n=this,t=[],r=n.length;for(e=0;r>e;e++)n[e]&&n[e].toJSON?t.push(n[e].toJSON()):t.push(n[e]);return t},pull:function(e,n){var t,a,s,u,l=this._initMK(),c=l.toArray(),f=e,d="undefined"==typeof e?"undefined":r(e);if("number"!=d&&"string"!=d&&(e=l.indexOf(e),!~e))return null;if(t=c.splice(e,1)[0]||null){if(i(l,c,n),s={returns:t,args:[f],method:"pull",self:l,added:[],removed:a=t?[t]:[]},n)for(u in n)s[u]=n[u];o(l,s,"pull")}return t},restore:function(t,r){var o,i,s,u,l,c,f,d,h=this._initMK(),p=e.get(h),g=p.id,b=h.Model;if(t?o=n._getNodes(h,t):(s=p.special.container||p.special.sandbox,s=s&&s.$nodes,s=s&&s[0],o=s&&s.children),o&&o.length){for(d=[],u=0;u<o.length;u++)i=o[u],l=b?new b:{},a(l),c=p.arraysNodes={},c[g]=i,l.bindRenderedAsSandbox!==!1&&n.bindNode(l,"sandbox",i),r&&r.silent||(f={node:i,$nodes:n.$(i),self:l,parentArray:h},l.onRender&&l.onRender(f),h.onItemRender&&h.onItemRender(l,f),n._fastTrigger(l,"render",f)),d[u]=l;h.recreate(d,r)}return h},orderBy:function(e,t,r){var a,s,u=this;if(u.length>1){if(i(u,n.orderBy(u,e,t)),a={method:"sort",self:u,added:[],removed:[]},r)for(s in r)a[s]=r[s];o(u,a,"sort")}return u}}}(s,I,F,U,z,d),W=function(){var e=this,n=0;return{next:function(){return n>e.length-1?{done:!0}:{done:!1,value:e[n++]}}}},X=function(e,n,t,o,i,a,s,u,l){if(!e)throw new Error("Matreshka is missing");var c={"extends":e,isMKArray:!0,length:0,itemRenderer:null,renderIfPossible:!0,Model:null,constructor:function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");
var n,t=this._initMK(),r=arguments.length;if(1==r&&"number"==typeof e)t.length=e;else{for(n=0;r>n;n++)t[n]=arguments[n];t.length=r}return t},_initMK:function(){var t,o=this;if(n.has(o))return o;if("Model"in o&&null!==o.Model&&"function"!=typeof o.Model)throw Error('Only function or null are valid values for Model, not "'+r(o.Model)+'"');return t=function(){var e=o.Model;e&&o.mediateItem(function(n,t){return n&&(n.instanceOf?n.instanceOf(e):n instanceof e)?n:new e(n&&n.toJSON?n.toJSON():n,o,t)})},e.prototype._initMK.call(o),e._fastAddListener(o,"change:Model",t),e._fastAddListener(o,"change:itemRenderer",function(e){o.rerender({forceRerender:e&&"forceRerender"in e?e.forceRerender:!0})}),t(),o},toJSON:function(){var e,n=this,t=[],r=n.length;for(e=0;r>e;e++)n[e]&&n[e].toJSON?t[e]=n[e].toJSON():t[e]=n[e];return t},hasOwnProperty:function(e){return"length"==e||e<this.length&&e>=0}};return e.extend(c,t,i),c[l]=u,e.Array=e.Class(c,o),e.Array}(I,s,J,G,Q,U,F,W,K),Y=function(e,n,t,r){return e}(I,q,X),Z=function(e){return e}(Y),Z.version="1.8.0",function(){var o="define";"undefined"!=typeof e&&("function"==typeof define&&define.amd?(e[o]&&(e[o]("matreshka",function(){return Z}),e[o]("bquery",function(){return Z.$b}),e[o]("balalaika",function(){return Z.$b}),e[o]("xclass",function(){return Z.Class}),e[o]("matreshka-magic",function(){return matreshka_magic})),define(function(){return Z})):"object"==("undefined"==typeof t?"undefined":r(t))?n.exports=Z:(e.Matreshka=e.MK=Z,e.$b=Z.$b,e.Class=Z.Class))}()}("undefined"!=typeof window?window:Function("return this")())},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
